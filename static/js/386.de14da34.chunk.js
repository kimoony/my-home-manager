"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[386],{7288:function(n,e,t){t.d(e,{$B:function(){return s},KL:function(){return o},PH:function(){return a},TT:function(){return d},V2:function(){return c},VG:function(){return f},ZH:function(){return u},cs:function(){return l},fU:function(){return p},jd:function(){return i},oD:function(){return x}});var r=t(1610),i=(0,r.cn)({key:"editState",default:!1}),a=(0,r.cn)({key:"loginState",default:!1}),o=(0,r.cn)({key:"userState",default:!1}),c=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),u=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),d=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]}),x=(0,r.cn)({key:"itemCategoryState",default:[]}),f=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},2386:function(n,e,t){t.r(e),t.d(e,{GoBack:function(){return sn},default:function(){return en}});var r=t(168),i=t(4165),a=t(5861),o=t(885),c=t(2791),u=t(1134),s=t(3504),l=t(6871),d=t(3108),p=t(9062),x=t(2982),f=t(4942),h=t(1413),g=t(184);var m,v,y=function(n){var e=n.setFile,t=n.percent;return n.image,(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:function(n){e(n.target.files[0])}}),(0,g.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})},b=t(6031);var Z,j,k,w,C,S,P,V,F,I=function(n){var e=n.viewInput,t=n.setViewInput,r=n.itemCategory,i=n.addCateg,a=n.removeCateg,u=n.setNewCateg,s=(0,c.useState)(!1),l=(0,o.Z)(s,2),d=l[0],p=l[1];return(0,g.jsxs)(J,{children:[(0,g.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),e?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(M,{type:"button",value:"+",onClick:function(){t(!0)}}),(0,g.jsx)(M,{type:"button",value:"-",onClick:function(){return p(!d)}})]}),e?(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("input",{type:"text",onChange:function(n){u(n.target.value)},name:"newCategory"}),(0,g.jsx)("button",{type:"button",onClick:i,children:"\ucd94\uac00"}),(0,g.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):d?r.map((function(n){return(0,g.jsxs)("div",{children:[n.category," ",(0,g.jsx)("span",{onClick:a,children:"x"})]},n.id)})):null]})},J=b.ZP.div(m||(m=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n"]))),M=b.ZP.input(v||(v=(0,r.Z)(["\n  font-size: 18px;\n  border-radius: 50%;\n  background-color: #667078;\n  color: #fff;\n  border: none;\n  margin-top: 5px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n\n  :hover {\n    background-color: #616365;\n  }\n  :last-child {\n    margin-left: 2px;\n  }\n"]))),D=t(7288),H=t(1610);var T,_,z,B,E,N,O,Y=function(n){n.register,n.errors;var e=n.percent,t=n.setFile,r=n.userObj,u=n.categoryValue,s=n.setCatagoryValue,l=n.methodValue,m=n.setMethodValue,v=(0,H.FV)(D.V2),b=(0,o.Z)(v,2),Z=b[0],j=b[1],k=(0,H.FV)(D.ZH),w=(0,o.Z)(k,2),C=w[0],S=w[1],P=(0,c.useState)(!1),V=(0,o.Z)(P,2),F=V[0],J=V[1],M=(0,c.useState)(""),T=(0,o.Z)(M,2),_=T[0],z=T[1],B=(0,H.FV)(D.oD),E=(0,o.Z)(B,2),N=E[0],O=E[1],Y=(0,c.useState)({}),R=(0,o.Z)(Y,2),X=R[0],nn=R[1],en=(0,H.sJ)(D.VG);(0,c.useEffect)((function(){var n=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.PL)((0,p.hJ)(d.db,"itemCateg"));case 2:e=n.sent,O(e.docs.map((function(n){return(0,h.Z)((0,h.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[O,N]),(0,c.useEffect)((function(){if(N.length>0){var n=N.find((function(n){return n.id}));n&&nn(n)}}),[N]);var tn=function(n){j((0,h.Z)((0,h.Z)({},Z),{},(0,f.Z)({},n.target.name,n.target.value)))},rn=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.ET)((0,p.hJ)(d.db,"itemCateg"),{category:_,creatorId:r.uid});case 3:e=n.sent,console.log(e.id),O([].concat((0,x.Z)(N),[_])),J(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),an=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var e;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.JU)(d.db,"itemCateg",X.id),n.next=3,(0,p.oe)(e);case 3:O(N.filter((function(n){return n.id!==X.id}))),alert("\uc0ad\uc81c");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,g.jsxs)(q,{children:[(0,g.jsx)(G,{children:(0,g.jsx)(y,{percent:e,setFile:t})}),(0,g.jsxs)(L,{children:[(0,g.jsx)(I,{viewInput:F,setViewInput:J,itemCategory:N,addCateg:rn,removeCateg:an,setNewCateg:z}),(0,g.jsxs)("select",{value:u,onChange:function(n){s(n.target.value)},children:[(0,g.jsx)("option",{value:"none",children:" \uc120\ud0dd "}),N.map((function(n){return(0,g.jsx)("option",{value:n.category,children:n.category},n.id)}))]})]}),(0,g.jsxs)(U,{children:[(0,g.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,g.jsx)("input",{type:"text",onChange:tn,name:"products",value:Z.products})]}),(0,g.jsxs)(A,{children:[(0,g.jsx)("label",{children:"\uc218\ub7c9 "}),(0,g.jsxs)(K,{children:[(0,g.jsx)("button",{type:"button",onClick:function(){C>0&&S((function(){return Number(C-1)}))},children:"-"}),(0,g.jsx)("input",{type:"number",value:C,onChange:tn,name:"quantity"}),(0,g.jsx)("button",{type:"button",onClick:function(){S((function(){return Number(C+1)}))},children:"+"})]})]}),(0,g.jsxs)(W,{children:[(0,g.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:Z.location,name:"location"})]}),(0,g.jsxs)($,{children:[(0,g.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:Z.purchase,name:"purchase"}),(0,g.jsx)("select",{onChange:function(n){m(n.target.value)},value:l,children:en.map((function(n){return(0,g.jsx)("option",{value:n.value,children:n.value},n.key)}))})]}),(0,g.jsxs)(Q,{children:[(0,g.jsx)("label",{children:"\uc124\uba85 "}),(0,g.jsx)("textarea",{cols:"30",rows:"10",onChange:tn,value:Z.descript,name:"descript"})]})]})},q=b.ZP.div(Z||(Z=(0,r.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n\n  label {\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin: 5px 0px;\n  }\n\n  input {\n    border-radius: 10px;\n  }\n"]))),G=b.ZP.div(j||(j=(0,r.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),L=b.ZP.div(k||(k=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n  label {\n    margin-right: 10px;\n  }\n"]))),U=b.ZP.div(w||(w=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  width: 320px;\n\n  input {\n    padding: 5px 0;\n  }\n"]))),A=b.ZP.div(C||(C=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n  }\n\n  button {\n    border: none;\n    border-radius: 50%;\n    background-color: #616365;\n    font-weight: bold;\n    color: #fff;\n    padding: 0px 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),K=b.ZP.div(S||(S=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n\n  input {\n    width: 290px;\n    text-align: center;\n    margin: 0px 10px;\n  }\n"]))),W=b.ZP.div(P||(P=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n  }\n"]))),$=b.ZP.div(V||(V=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    margin-bottom: 5px;\n  }\n\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n"]))),Q=b.ZP.div(F||(F=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  textarea {\n    border-radius: 10px;\n  }\n"]))),R=t(2426),X=t.n(R),nn=(t(8015),t(4453));var en=function(n){var e=n.userObj,t=(0,c.useState)(""),r=(0,o.Z)(t,2),x=r[0],f=r[1],h=(0,c.useState)(""),m=(0,o.Z)(h,2),v=m[0],y=m[1],b=(0,c.useState)(0),Z=(0,o.Z)(b,2),j=Z[0],k=Z[1],w=(0,H.FV)(D.V2),C=(0,o.Z)(w,2),S=C[0],P=C[1],V=(0,H.FV)(D.ZH),F=(0,o.Z)(V,2),I=F[0],J=F[1],M=(0,c.useState)(""),T=(0,o.Z)(M,2),_=T[0],z=T[1],B=(0,c.useState)("\uc628\ub77c\uc778"),E=(0,o.Z)(B,2),N=E[0],O=E[1],q=(0,u.cI)(),G=q.register,L=q.handleSubmit,U=q.formState.errors,A=(0,l.s0)(),K=function(){var n=(0,a.Z)((0,i.Z)().mark((function n(){var t,r,a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,x){n.next=4;break}return alert("\uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694!"),n.abrupt("return");case 4:if(t=(0,nn.iH)(d.tO,"/files/".concat(x.name)),(r=(0,nn.B0)(t,x)).on("state_changed",(function(n){var e=Math.round(n.bytesTransferred/n.totalBytes*100);k(e)}),(function(n){return console.log(n)}),(function(){(0,nn.Jt)(r.snapshot.ref).then((function(n){y(n)}))})),100!==j){n.next=17;break}return n.next=10,(0,p.ET)((0,p.hJ)(d.db,"items"),{creatorId:e.uid,category:_,products:S.products,quantity:I,storageLocation:S.location,purchase:S.purchase,purchaseMethod:N,descript:S.descript,createDate:X()().format("YYYY-MM-DD"),productsImg:v});case 10:a=n.sent,console.log(a.id),P({products:"",location:"",purchase:"",descript:"",createdAt:""}),J(0),A("/"),alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.error(n.t0.message);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsx)(tn,{children:(0,g.jsxs)(rn,{onSubmit:L(K),children:[(0,g.jsx)(an,{children:(0,g.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,g.jsx)(on,{children:(0,g.jsx)(Y,{register:G,errors:U,percent:j,setFile:f,userObj:e,categoryValue:_,setCatagoryValue:z,methodValue:N,setMethodValue:O})}),(0,g.jsxs)(cn,{children:[(0,g.jsx)(s.rU,{to:"/",children:(0,g.jsx)(sn,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,g.jsx)(un,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})},tn=b.ZP.div(T||(T=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),rn=b.ZP.form(_||(_=(0,r.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),an=b.ZP.div(z||(z=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),on=b.ZP.div(B||(B=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),cn=b.ZP.div(E||(E=(0,r.Z)(["\n  display: flex;\n"]))),un=b.ZP.input(N||(N=(0,r.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986f5;\n  color: #fff;\n  cursor: pointer;\n"]))),sn=b.ZP.button(O||(O=(0,r.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #f9567a;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=386.de14da34.chunk.js.map