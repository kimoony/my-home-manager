"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[158,386],{7288:function(n,e,t){t.d(e,{$B:function(){return s},KL:function(){return o},PH:function(){return i},TT:function(){return d},V2:function(){return c},VG:function(){return f},ZH:function(){return u},cs:function(){return l},fU:function(){return p},jd:function(){return a},oD:function(){return x}});var r=t(1610),a=(0,r.cn)({key:"editState",default:!1}),i=(0,r.cn)({key:"loginState",default:!1}),o=(0,r.cn)({key:"userState",default:!1}),c=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),u=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),d=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]}),x=(0,r.cn)({key:"itemCategoryState",default:[]}),f=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},158:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r=t(4165),a=t(1413),i=t(5861),o=t(885),c=t(7288),u=t(3108),s=t(9062),l=t(2791),d=t(6871),p=t(1610),x=t(4942),f=t(2386),h=t(184);var g=function(n){var e=n.item,t=n.setItem,g=n.itemCategValue,m=n.onChangeICateg,v=n.methodCategValu,j=n.onChangeMCateg,Z=(0,p.FV)(c.oD),b=(0,o.Z)(Z,2),y=b[0],C=b[1],k=(0,p.sJ)(c.VG);console.log(k);var w=(0,d.s0)();(0,l.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(u.db,"itemCateg"));case 2:e=n.sent,C(e.docs.map((function(n){return(0,a.Z)((0,a.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[C,y]),console.log(y);var S=function(n){t((0,a.Z)((0,a.Z)({},e),{},(0,x.Z)({},n.target.name,n.target.value)))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{children:"\uc218\uc815\ud398\uc774\uc9c0"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\ubb3c\ud488\uba85: "}),(0,h.jsx)("input",{name:"products",value:e.products,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac: "}),(0,h.jsx)("select",{value:g,onChange:m,children:y.map((function(n){return(0,h.jsx)("option",{value:n.category,children:n.category})}))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uc218\ub7c9: "}),(0,h.jsx)("input",{type:"number",name:"quantity",value:e.quantity,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58: "}),(0,h.jsx)("input",{name:"storageLocation",value:e.storageLocation,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uad6c\ub9e4\ucc98: "}),(0,h.jsx)("input",{name:"purchase",value:e.purchase,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uad6c\ub9e4\ubc29\ubc95: "}),(0,h.jsx)("select",{value:v,onChange:j,children:k.map((function(n){return(0,h.jsx)("option",{value:n.value,children:n.value})}))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uc124\uba85: "}),(0,h.jsx)("textarea",{name:"descript",value:e.descript,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{type:"submit",children:"Update"}),(0,h.jsx)(f.GoBack,{onClick:function(){return w(-1)},children:"\ub4a4\ub85c\uac00\uae30"})]})]})};var m=function(){var n=(0,l.useState)({}),e=(0,o.Z)(n,2),t=e[0],x=e[1],f=(0,p.FV)(c.TT),m=(0,o.Z)(f,2),v=m[0],j=(m[1],(0,l.useState)(t.category)),Z=(0,o.Z)(j,2),b=Z[0],y=Z[1],C=(0,l.useState)(t.purchaseMethod),k=(0,o.Z)(C,2),w=k[0],S=k[1],V=(0,d.UO)().id,P=(0,d.s0)();(0,l.useEffect)((function(){if(v.length>0){var n=v.find((function(n){return n.id===V}));console.log(n),n&&x(n)}}),[v,V]);var I=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),i=(0,s.JU)(u.db,"items",t.id),n.prev=2,n.next=5,(0,s.r7)(i,(0,a.Z)((0,a.Z)({},t),{},{category:b,purchaseMethod:w}));case 5:console.log(i.id),alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),P("/item-detail/".concat(t.id)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.error(n.t0.message);case 13:return n.prev=13,console.log("End"),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsx)("div",{children:(0,h.jsx)("form",{onSubmit:I,children:(0,h.jsx)(g,{item:t,setItem:x,itemCategValue:b,methodCategValue:w,onChangeICateg:function(n){y(n.target.value)},onChangeMCateg:function(n){S(n.target.value)}})})})}},2386:function(n,e,t){t.r(e),t.d(e,{GoBack:function(){return sn},default:function(){return en}});var r=t(168),a=t(4165),i=t(5861),o=t(885),c=t(2791),u=t(1134),s=t(3504),l=t(6871),d=t(3108),p=t(9062),x=t(2982),f=t(4942),h=t(1413),g=t(184);var m,v,j=function(n){var e=n.setFile,t=n.percent;return n.image,(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"file",accept:"image/*",onChange:function(n){e(n.target.files[0])}}),(0,g.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})},Z=t(6031);var b,y,C,k,w,S,V,P,I,F=function(n){var e=n.viewInput,t=n.setViewInput,r=n.itemCategory,a=n.addCateg,i=n.removeCateg,u=n.setNewCateg,s=(0,c.useState)(!1),l=(0,o.Z)(s,2),d=l[0],p=l[1];return(0,g.jsxs)(M,{children:[(0,g.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),e?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(J,{type:"button",value:"+",onClick:function(){t(!0)}}),(0,g.jsx)(J,{type:"button",value:"-",onClick:function(){return p(!d)}})]}),e?(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("input",{type:"text",onChange:function(n){u(n.target.value)},name:"newCategory"}),(0,g.jsx)("button",{type:"button",onClick:a,children:"\ucd94\uac00"}),(0,g.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):d?r.map((function(n){return(0,g.jsxs)("div",{children:[n.category," ",(0,g.jsx)("span",{onClick:i,children:"x"})]},n.id)})):null]})},M=Z.ZP.div(m||(m=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n"]))),J=Z.ZP.input(v||(v=(0,r.Z)(["\n  font-size: 18px;\n  border-radius: 50%;\n  background-color: #667078;\n  color: #fff;\n  border: none;\n  margin-top: 5px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n\n  :hover {\n    background-color: #616365;\n  }\n  :last-child {\n    margin-left: 2px;\n  }\n"]))),D=t(7288),E=t(1610);var T,L,U,q,B,G,H,O=function(n){n.register,n.errors;var e=n.percent,t=n.setFile,r=n.userObj,u=n.categoryValue,s=n.setCatagoryValue,l=n.methodValue,m=n.setMethodValue,v=(0,E.FV)(D.V2),Z=(0,o.Z)(v,2),b=Z[0],y=Z[1],C=(0,E.FV)(D.ZH),k=(0,o.Z)(C,2),w=k[0],S=k[1],V=(0,c.useState)(!1),P=(0,o.Z)(V,2),I=P[0],M=P[1],J=(0,c.useState)(""),T=(0,o.Z)(J,2),L=T[0],U=T[1],q=(0,E.FV)(D.oD),B=(0,o.Z)(q,2),G=B[0],H=B[1],O=(0,c.useState)({}),R=(0,o.Z)(O,2),X=R[0],nn=R[1],en=(0,E.sJ)(D.VG);(0,c.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,p.PL)((0,p.hJ)(d.db,"itemCateg"));case 2:e=n.sent,H(e.docs.map((function(n){return(0,h.Z)((0,h.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[H,G]),(0,c.useEffect)((function(){if(G.length>0){var n=G.find((function(n){return n.id}));n&&nn(n)}}),[G]);var tn=function(n){y((0,h.Z)((0,h.Z)({},b),{},(0,f.Z)({},n.target.name,n.target.value)))},rn=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,p.ET)((0,p.hJ)(d.db,"itemCateg"),{category:L,creatorId:r.uid});case 3:e=n.sent,console.log(e.id),H([].concat((0,x.Z)(G),[L])),M(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),an=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var e;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.JU)(d.db,"itemCateg",X.id),n.next=3,(0,p.oe)(e);case 3:H(G.filter((function(n){return n.id!==X.id}))),alert("\uc0ad\uc81c");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,g.jsxs)(_,{children:[(0,g.jsx)(z,{children:(0,g.jsx)(j,{percent:e,setFile:t})}),(0,g.jsxs)(N,{children:[(0,g.jsx)(F,{viewInput:I,setViewInput:M,itemCategory:G,addCateg:rn,removeCateg:an,setNewCateg:U}),(0,g.jsxs)("select",{value:u,onChange:function(n){s(n.target.value)},children:[(0,g.jsx)("option",{value:"none",children:" \uc120\ud0dd "}),G.map((function(n){return(0,g.jsx)("option",{value:n.category,children:n.category},n.id)}))]})]}),(0,g.jsxs)(Y,{children:[(0,g.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,g.jsx)("input",{type:"text",onChange:tn,name:"products",value:b.products})]}),(0,g.jsxs)(A,{children:[(0,g.jsx)("label",{children:"\uc218\ub7c9 "}),(0,g.jsxs)(K,{children:[(0,g.jsx)("button",{type:"button",onClick:function(){w>0&&S((function(){return Number(w-1)}))},children:"-"}),(0,g.jsx)("input",{type:"number",value:w,onChange:tn,name:"quantity"}),(0,g.jsx)("button",{type:"button",onClick:function(){S((function(){return Number(w+1)}))},children:"+"})]})]}),(0,g.jsxs)(W,{children:[(0,g.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:b.location,name:"location"})]}),(0,g.jsxs)($,{children:[(0,g.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:b.purchase,name:"purchase"}),(0,g.jsx)("select",{onChange:function(n){m(n.target.value)},value:l,children:en.map((function(n){return(0,g.jsx)("option",{value:n.value,children:n.value},n.key)}))})]}),(0,g.jsxs)(Q,{children:[(0,g.jsx)("label",{children:"\uc124\uba85 "}),(0,g.jsx)("textarea",{cols:"30",rows:"10",onChange:tn,value:b.descript,name:"descript"})]})]})},_=Z.ZP.div(b||(b=(0,r.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n\n  label {\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin: 5px 0px;\n  }\n\n  input {\n    border-radius: 10px;\n  }\n"]))),z=Z.ZP.div(y||(y=(0,r.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),N=Z.ZP.div(C||(C=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n  label {\n    margin-right: 10px;\n  }\n"]))),Y=Z.ZP.div(k||(k=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  width: 320px;\n\n  input {\n    padding: 5px 0;\n  }\n"]))),A=Z.ZP.div(w||(w=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n  }\n\n  button {\n    border: none;\n    border-radius: 50%;\n    background-color: #616365;\n    font-weight: bold;\n    color: #fff;\n    padding: 0px 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),K=Z.ZP.div(S||(S=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n\n  input {\n    width: 290px;\n    text-align: center;\n    margin: 0px 10px;\n  }\n"]))),W=Z.ZP.div(V||(V=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n  }\n"]))),$=Z.ZP.div(P||(P=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    margin-bottom: 5px;\n  }\n\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n"]))),Q=Z.ZP.div(I||(I=(0,r.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  textarea {\n    border-radius: 10px;\n  }\n"]))),R=t(2426),X=t.n(R),nn=(t(8015),t(4453));var en=function(n){var e=n.userObj,t=(0,c.useState)(""),r=(0,o.Z)(t,2),x=r[0],f=r[1],h=(0,c.useState)(""),m=(0,o.Z)(h,2),v=m[0],j=m[1],Z=(0,c.useState)(0),b=(0,o.Z)(Z,2),y=b[0],C=b[1],k=(0,E.FV)(D.V2),w=(0,o.Z)(k,2),S=w[0],V=w[1],P=(0,E.FV)(D.ZH),I=(0,o.Z)(P,2),F=I[0],M=I[1],J=(0,c.useState)(""),T=(0,o.Z)(J,2),L=T[0],U=T[1],q=(0,c.useState)("\uc628\ub77c\uc778"),B=(0,o.Z)(q,2),G=B[0],H=B[1],_=(0,u.cI)(),z=_.register,N=_.handleSubmit,Y=_.formState.errors,A=(0,l.s0)(),K=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var t,r,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,x){n.next=4;break}return alert("\uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694!"),n.abrupt("return");case 4:if(t=(0,nn.iH)(d.tO,"/files/".concat(x.name)),(r=(0,nn.B0)(t,x)).on("state_changed",(function(n){var e=Math.round(n.bytesTransferred/n.totalBytes*100);C(e)}),(function(n){return console.log(n)}),(function(){(0,nn.Jt)(r.snapshot.ref).then((function(n){j(n)}))})),100!==y){n.next=17;break}return n.next=10,(0,p.ET)((0,p.hJ)(d.db,"items"),{creatorId:e.uid,category:L,products:S.products,quantity:F,storageLocation:S.location,purchase:S.purchase,purchaseMethod:G,descript:S.descript,createDate:X()().format("YYYY-MM-DD"),productsImg:v});case 10:i=n.sent,console.log(i.id),V({products:"",location:"",purchase:"",descript:"",createdAt:""}),M(0),A("/"),alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.error(n.t0.message);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsx)(tn,{children:(0,g.jsxs)(rn,{onSubmit:N(K),children:[(0,g.jsx)(an,{children:(0,g.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,g.jsx)(on,{children:(0,g.jsx)(O,{register:z,errors:Y,percent:y,setFile:f,userObj:e,categoryValue:L,setCatagoryValue:U,methodValue:G,setMethodValue:H})}),(0,g.jsxs)(cn,{children:[(0,g.jsx)(s.rU,{to:"/",children:(0,g.jsx)(sn,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,g.jsx)(un,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})},tn=Z.ZP.div(T||(T=(0,r.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),rn=Z.ZP.form(L||(L=(0,r.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),an=Z.ZP.div(U||(U=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),on=Z.ZP.div(q||(q=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),cn=Z.ZP.div(B||(B=(0,r.Z)(["\n  display: flex;\n"]))),un=Z.ZP.input(G||(G=(0,r.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986f5;\n  color: #fff;\n  cursor: pointer;\n"]))),sn=Z.ZP.button(H||(H=(0,r.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #f9567a;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=158.50e0d5c8.chunk.js.map