"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[158,386],{7288:function(n,e,t){t.d(e,{$B:function(){return s},KL:function(){return o},PH:function(){return i},TT:function(){return d},V2:function(){return c},VG:function(){return f},ZH:function(){return u},cs:function(){return l},fU:function(){return p},jd:function(){return a},oD:function(){return x}});var r=t(1610),a=(0,r.cn)({key:"editState",default:!1}),i=(0,r.cn)({key:"loginState",default:!1}),o=(0,r.cn)({key:"userState",default:!1}),c=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),u=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),d=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]}),x=(0,r.cn)({key:"itemCategoryState",default:[]}),f=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},158:function(n,e,t){t.r(e),t.d(e,{default:function(){return m}});var r=t(4165),a=t(1413),i=t(5861),o=t(885),c=t(7288),u=t(3108),s=t(9062),l=t(2791),d=t(6871),p=t(1610),x=t(4942),f=t(2386),h=t(184);var g=function(n){var e=n.item,t=n.setItem,g=n.itemCategValue,m=n.onChangeICateg,v=n.methodCategValu,j=n.onChangeMCateg,b=(0,p.FV)(c.oD),Z=(0,o.Z)(b,2),y=Z[0],C=Z[1],k=(0,p.sJ)(c.VG);console.log(k);var w=(0,d.s0)();(0,l.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.PL)((0,s.hJ)(u.db,"itemCateg"));case 2:e=n.sent,C(e.docs.map((function(n){return(0,a.Z)((0,a.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[C,y]),console.log(y);var S=function(n){t((0,a.Z)((0,a.Z)({},e),{},(0,x.Z)({},n.target.name,n.target.value)))};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h1",{children:"\uc218\uc815\ud398\uc774\uc9c0"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\ubb3c\ud488\uba85: "}),(0,h.jsx)("input",{name:"products",value:e.products,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac: "}),(0,h.jsx)("select",{value:g,onChange:m,children:y.map((function(n){return(0,h.jsx)("option",{value:n.category,children:n.category})}))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uc218\ub7c9: "}),(0,h.jsx)("input",{type:"number",name:"quantity",value:e.quantity,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58: "}),(0,h.jsx)("input",{name:"storageLocation",value:e.storageLocation,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uad6c\ub9e4\ucc98: "}),(0,h.jsx)("input",{name:"purchase",value:e.purchase,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uad6c\ub9e4\ubc29\ubc95: "}),(0,h.jsx)("select",{value:v,onChange:j,children:k.map((function(n){return(0,h.jsx)("option",{value:n.value,children:n.value})}))})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{children:"\uc124\uba85: "}),(0,h.jsx)("textarea",{name:"descript",value:e.descript,onChange:S})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{type:"submit",children:"Update"}),(0,h.jsx)(f.GoBack,{onClick:function(){return w(-1)},children:"\ub4a4\ub85c\uac00\uae30"})]})]})};var m=function(){var n=(0,l.useState)({}),e=(0,o.Z)(n,2),t=e[0],x=e[1],f=(0,p.FV)(c.TT),m=(0,o.Z)(f,2),v=m[0],j=(m[1],(0,l.useState)(t.category)),b=(0,o.Z)(j,2),Z=b[0],y=b[1],C=(0,l.useState)(t.purchaseMethod),k=(0,o.Z)(C,2),w=k[0],S=k[1],V=(0,d.UO)().id,P=(0,d.s0)();(0,l.useEffect)((function(){if(v.length>0){var n=v.find((function(n){return n.id===V}));console.log(n),n&&x(n)}}),[v,V]);var I=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(e){var i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),i=(0,s.JU)(u.db,"items",t.id),n.prev=2,n.next=5,(0,s.r7)(i,(0,a.Z)((0,a.Z)({},t),{},{category:Z,purchaseMethod:w}));case 5:console.log(i.id),alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),P("/item-detail/".concat(t.id)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),console.error(n.t0.message);case 13:return n.prev=13,console.log("End"),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsx)("div",{children:(0,h.jsx)("form",{onSubmit:I,children:(0,h.jsx)(g,{item:t,setItem:x,itemCategValue:Z,methodCategValue:w,onChangeICateg:function(n){y(n.target.value)},onChangeMCateg:function(n){S(n.target.value)}})})})}},2386:function(n,e,t){t.r(e),t.d(e,{GoBack:function(){return gn},default:function(){return sn}});var r,a,i,o=t(168),c=t(4165),u=t(5861),s=t(885),l=t(2791),d=t(1134),p=t(3504),x=t(6871),f=t(3108),h=t(9062),g=t(2982),m=t(4942),v=t(1413),j=t(6031),b=t(184);var Z,y,C=function(n){var e=n.setFile,t=n.percent,r=(n.image,n.uploadImage);return(0,b.jsxs)(k,{children:[(0,b.jsx)(w,{type:"file",accept:"image/*",onChange:function(n){e(n.target.files[0])}}),(0,b.jsxs)(S,{children:[(0,b.jsx)("input",{type:"button",value:"\uc5c5\ub85c\ub4dc",onClick:r}),(0,b.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})]})},k=j.ZP.div(r||(r=(0,o.Z)(["\n  width: 330px;\n"]))),w=j.ZP.input(a||(a=(0,o.Z)(["\n  margin-bottom: 5px;\n"]))),S=j.ZP.div(i||(i=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  input {\n    border: none;\n    padding: 5px 10px;\n    background-color: #616365;\n    color: #fff;\n    border-radius: 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),V=t(6856);var P,I,F,M,J,D,E,T,H,L=function(n){var e=n.viewInput,t=n.setViewInput,r=n.itemCategory,a=n.addCateg,i=n.removeCateg,o=n.setNewCateg,c=(0,l.useState)(!1),u=(0,s.Z)(c,2),d=u[0],p=u[1];return(0,b.jsxs)(U,{children:[(0,b.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),e?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q,{type:"button",value:"+",onClick:function(){t(!0)}}),(0,b.jsx)(q,{type:"button",value:"-",onClick:function(){return p(!d)}})]}),e?(0,b.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,b.jsx)("input",{type:"text",onChange:function(n){o(n.target.value)},name:"newCategory"}),(0,b.jsx)("button",{type:"button",onClick:a,children:"\ucd94\uac00"}),(0,b.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):d?r.map((function(n){return(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{children:n.category}),(0,b.jsx)("span",{onClick:i,children:(0,b.jsx)(V.FH3,{})})]},n.id)})):null]})},U=j.ZP.div(Z||(Z=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),q=j.ZP.input(y||(y=(0,o.Z)(["\n  font-size: 18px;\n  border-radius: 50%;\n  background-color: #667078;\n  color: #fff;\n  border: none;\n  margin-top: 5px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n\n  :hover {\n    background-color: #616365;\n  }\n  :last-child {\n    margin-left: 2px;\n  }\n"]))),B=t(7288),G=t(1610);var O,_,z,N,Y,A,K,W=function(n){n.register,n.errors;var e=n.percent,t=n.setFile,r=n.userObj,a=n.categoryValue,i=n.setCatagoryValue,o=n.methodValue,d=n.setMethodValue,p=n.uploadImage,x=(0,G.FV)(B.V2),j=(0,s.Z)(x,2),Z=j[0],y=j[1],k=(0,G.FV)(B.ZH),w=(0,s.Z)(k,2),S=w[0],V=w[1],P=(0,l.useState)(!1),I=(0,s.Z)(P,2),F=I[0],M=I[1],J=(0,l.useState)(""),D=(0,s.Z)(J,2),E=D[0],T=D[1],H=(0,G.FV)(B.oD),U=(0,s.Z)(H,2),q=U[0],O=U[1],_=(0,l.useState)({}),z=(0,s.Z)(_,2),N=z[0],Y=z[1],A=(0,G.sJ)(B.VG);(0,l.useEffect)((function(){var n=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,h.PL)((0,h.hJ)(f.db,"itemCateg"));case 2:e=n.sent,O(e.docs.map((function(n){return(0,v.Z)((0,v.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[O,q]),(0,l.useEffect)((function(){if(q.length>0){var n=q.find((function(n){return n.id}));n&&Y(n)}}),[q]);var K=function(n){y((0,v.Z)((0,v.Z)({},Z),{},(0,m.Z)({},n.target.name,n.target.value)))},W=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,h.ET)((0,h.hJ)(f.db,"itemCateg"),{category:E,creatorId:r.uid});case 3:e=n.sent,console.log(e.id),O([].concat((0,g.Z)(q),[E])),M(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),on=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,h.JU)(f.db,"itemCateg",N.id),n.next=3,(0,h.oe)(e);case 3:O(q.filter((function(n){return n.id!==N.id}))),alert("\uc0ad\uc81c");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,b.jsxs)($,{children:[(0,b.jsx)(Q,{children:(0,b.jsx)(C,{percent:e,setFile:t,uploadImage:p})}),(0,b.jsxs)(R,{children:[(0,b.jsx)(L,{viewInput:F,setViewInput:M,itemCategory:q,addCateg:W,removeCateg:on,setNewCateg:T}),(0,b.jsxs)("select",{value:a,onChange:function(n){i(n.target.value)},children:[(0,b.jsx)("option",{value:"none",children:" \uc120\ud0dd "}),q.map((function(n){return(0,b.jsx)("option",{value:n.category,children:n.category},n.id)}))]})]}),(0,b.jsxs)(X,{children:[(0,b.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,b.jsx)("input",{type:"text",onChange:K,name:"products",value:Z.products})]}),(0,b.jsxs)(nn,{children:[(0,b.jsx)("label",{children:"\uc218\ub7c9 "}),(0,b.jsxs)(en,{children:[(0,b.jsx)("button",{type:"button",onClick:function(){S>0&&V((function(){return Number(S-1)}))},children:"-"}),(0,b.jsx)("input",{type:"number",value:S,onChange:K,name:"quantity"}),(0,b.jsx)("button",{type:"button",onClick:function(){V((function(){return Number(S+1)}))},children:"+"})]})]}),(0,b.jsxs)(tn,{children:[(0,b.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,b.jsx)("input",{type:"text",onChange:K,value:Z.location,name:"location"})]}),(0,b.jsxs)(rn,{children:[(0,b.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,b.jsx)("input",{type:"text",onChange:K,value:Z.purchase,name:"purchase"}),(0,b.jsx)("select",{onChange:function(n){d(n.target.value)},value:o,children:A.map((function(n){return(0,b.jsx)("option",{value:n.value,children:n.value},n.key)}))})]}),(0,b.jsxs)(an,{children:[(0,b.jsx)("label",{children:"\uc124\uba85 "}),(0,b.jsx)("textarea",{cols:"30",rows:"10",onChange:K,value:Z.descript,name:"descript"})]})]})},$=j.ZP.div(P||(P=(0,o.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n\n  label {\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin: 5px 0px;\n  }\n"]))),Q=j.ZP.div(I||(I=(0,o.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),R=j.ZP.div(F||(F=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n  label {\n    margin-right: 10px;\n  }\n"]))),X=j.ZP.div(M||(M=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  width: 320px;\n\n  input {\n    padding: 5px 0;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),nn=j.ZP.div(J||(J=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    border-radius: 10px;\n  }\n\n  button {\n    border: none;\n    border-radius: 50%;\n    background-color: #616365;\n    font-weight: bold;\n    color: #fff;\n    padding: 0px 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),en=j.ZP.div(D||(D=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n\n  input {\n    width: 290px;\n    text-align: center;\n    margin: 0px 10px;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),tn=j.ZP.div(E||(E=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),rn=j.ZP.div(T||(T=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    margin-bottom: 5px;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n"]))),an=j.ZP.div(H||(H=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  textarea {\n    border-radius: 10px;\n    padding-left: 10px;\n  }\n"]))),on=t(2426),cn=t.n(on),un=(t(8015),t(4453));var sn=function(n){var e=n.userObj,t=(0,l.useState)(""),r=(0,s.Z)(t,2),a=r[0],i=r[1],o=(0,l.useState)(""),g=(0,s.Z)(o,2),m=g[0],v=g[1],j=(0,l.useState)(0),Z=(0,s.Z)(j,2),y=Z[0],C=Z[1],k=(0,G.FV)(B.V2),w=(0,s.Z)(k,2),S=w[0],V=w[1],P=(0,G.FV)(B.ZH),I=(0,s.Z)(P,2),F=I[0],M=I[1],J=(0,l.useState)(""),D=(0,s.Z)(J,2),E=D[0],T=D[1],H=(0,l.useState)("\uc628\ub77c\uc778"),L=(0,s.Z)(H,2),U=L[0],q=L[1],O=(0,d.cI)(),_=O.register,z=O.handleSubmit,N=O.formState.errors,Y=(0,x.s0)(),A=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,100!==y){n.next=12;break}return n.next=4,(0,h.ET)((0,h.hJ)(f.db,"items"),{creatorId:e.uid,category:E,products:S.products,quantity:F,storageLocation:S.location,purchase:S.purchase,purchaseMethod:U,descript:S.descript,createDate:cn()().format("YYYY-MM-DD"),productsImg:m});case 4:t=n.sent,console.log(t.id),V({products:"",location:"",purchase:"",descript:"",createdAt:""}),M(0),Y("/"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.next=14;break;case 12:return alert("\uc0ac\uc9c4\uc744 \uc5c5\ub85c\ub4dc \ud558\uc138\uc694"),n.abrupt("return");case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error(n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return(0,b.jsx)(ln,{children:(0,b.jsxs)(dn,{onSubmit:z(A),children:[(0,b.jsx)(pn,{children:(0,b.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,b.jsx)(xn,{children:(0,b.jsx)(W,{register:_,errors:N,percent:y,setFile:i,userObj:e,categoryValue:E,setCatagoryValue:T,methodValue:U,setMethodValue:q,uploadImage:function(){if(a){var n=(0,un.iH)(f.tO,"/files/".concat(a.name)),e=(0,un.B0)(n,a);e.on("state_changed",(function(n){var e=Math.round(n.bytesTransferred/n.totalBytes*100);C(e)}),(function(n){return console.log(n)}),(function(){(0,un.Jt)(e.snapshot.ref).then((function(n){v(n)}))})),100===y&&(alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),console.log(m))}else alert("\uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694!")}})}),(0,b.jsxs)(fn,{children:[(0,b.jsx)(p.rU,{to:"/",children:(0,b.jsx)(gn,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,b.jsx)(hn,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})},ln=j.ZP.div(O||(O=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),dn=j.ZP.form(_||(_=(0,o.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),pn=j.ZP.div(z||(z=(0,o.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xn=j.ZP.div(N||(N=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),fn=j.ZP.div(Y||(Y=(0,o.Z)(["\n  display: flex;\n"]))),hn=j.ZP.input(A||(A=(0,o.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986f5;\n  color: #fff;\n  cursor: pointer;\n"]))),gn=j.ZP.button(K||(K=(0,o.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #f9567a;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=158.b795b683.chunk.js.map