"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[386],{7288:function(n,e,t){t.d(e,{$B:function(){return s},KL:function(){return o},PH:function(){return a},TT:function(){return l},V2:function(){return c},VG:function(){return f},ZH:function(){return u},cs:function(){return d},fU:function(){return p},jd:function(){return i},oD:function(){return x}});var r=t(1610),i=(0,r.cn)({key:"editState",default:!1}),a=(0,r.cn)({key:"loginState",default:!1}),o=(0,r.cn)({key:"userState",default:!1}),c=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),u=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),d=(0,r.cn)({key:"changedState",default:!1}),l=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]}),x=(0,r.cn)({key:"itemCategoryState",default:[]}),f=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},2386:function(n,e,t){t.r(e),t.d(e,{GoBack:function(){return hn},default:function(){return sn}});var r,i,a,o=t(168),c=t(4165),u=t(5861),s=t(885),d=t(2791),l=t(1134),p=t(3504),x=t(6871),f=t(3108),g=t(9062),h=t(2982),m=t(4942),v=t(1413),b=t(6031),y=t(184);var Z,j,k=function(n){var e=n.setFile,t=n.percent,r=(n.image,n.uploadImage);return(0,y.jsxs)(w,{children:[(0,y.jsx)(C,{type:"file",accept:"image/*",onChange:function(n){e(n.target.files[0])}}),(0,y.jsxs)(P,{children:[(0,y.jsx)("input",{type:"button",value:"\uc5c5\ub85c\ub4dc",onClick:r}),(0,y.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})]})},w=b.ZP.div(r||(r=(0,o.Z)(["\n  width: 330px;\n"]))),C=b.ZP.input(i||(i=(0,o.Z)(["\n  margin-bottom: 5px;\n"]))),P=b.ZP.div(a||(a=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n\n  input {\n    border: none;\n    padding: 5px 10px;\n    background-color: #616365;\n    color: #fff;\n    border-radius: 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),S=t(6856);var V,I,F,H,J,M,D,T,_,z=function(n){var e=n.viewInput,t=n.setViewInput,r=n.itemCategory,i=n.addCateg,a=n.removeCateg,o=n.setNewCateg,c=(0,d.useState)(!1),u=(0,s.Z)(c,2),l=u[0],p=u[1];return(0,y.jsxs)(B,{children:[(0,y.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),e?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(E,{type:"button",value:"+",onClick:function(){t(!0)}}),(0,y.jsx)(E,{type:"button",value:"-",onClick:function(){return p(!l)}})]}),e?(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,y.jsx)("input",{type:"text",onChange:function(n){o(n.target.value)},name:"newCategory"}),(0,y.jsx)("button",{type:"button",onClick:i,children:"\ucd94\uac00"}),(0,y.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):l?r.map((function(n){return(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{children:n.category}),(0,y.jsx)("span",{onClick:a,children:(0,y.jsx)(S.FH3,{})})]},n.id)})):null]})},B=b.ZP.div(Z||(Z=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n"]))),E=b.ZP.input(j||(j=(0,o.Z)(["\n  font-size: 18px;\n  border-radius: 50%;\n  background-color: #667078;\n  color: #fff;\n  border: none;\n  margin-top: 5px;\n  width: 20px;\n  height: 20px;\n  padding: 0px;\n\n  :hover {\n    background-color: #616365;\n  }\n  :last-child {\n    margin-left: 2px;\n  }\n"]))),N=t(7288),O=t(1610);var Y,q,G,L,U,A,K,W=function(n){n.register,n.errors;var e=n.percent,t=n.setFile,r=n.userObj,i=n.categoryValue,a=n.setCatagoryValue,o=n.methodValue,l=n.setMethodValue,p=n.uploadImage,x=(0,O.FV)(N.V2),b=(0,s.Z)(x,2),Z=b[0],j=b[1],w=(0,O.FV)(N.ZH),C=(0,s.Z)(w,2),P=C[0],S=C[1],V=(0,d.useState)(!1),I=(0,s.Z)(V,2),F=I[0],H=I[1],J=(0,d.useState)(""),M=(0,s.Z)(J,2),D=M[0],T=M[1],_=(0,O.FV)(N.oD),B=(0,s.Z)(_,2),E=B[0],Y=B[1],q=(0,d.useState)({}),G=(0,s.Z)(q,2),L=G[0],U=G[1],A=(0,O.sJ)(N.VG);(0,d.useEffect)((function(){var n=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.PL)((0,g.hJ)(f.db,"itemCateg"));case 2:e=n.sent,Y(e.docs.map((function(n){return(0,v.Z)((0,v.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[Y,E]),(0,d.useEffect)((function(){if(E.length>0){var n=E.find((function(n){return n.id}));n&&U(n)}}),[E]);var K=function(n){j((0,v.Z)((0,v.Z)({},Z),{},(0,m.Z)({},n.target.name,n.target.value)))},W=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,g.ET)((0,g.hJ)(f.db,"itemCateg"),{category:D,creatorId:r.uid});case 3:e=n.sent,console.log(e.id),Y([].concat((0,h.Z)(E),[D])),H(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),on=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var e;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,g.JU)(f.db,"itemCateg",L.id),n.next=3,(0,g.oe)(e);case 3:Y(E.filter((function(n){return n.id!==L.id}))),alert("\uc0ad\uc81c");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,y.jsxs)($,{children:[(0,y.jsx)(Q,{children:(0,y.jsx)(k,{percent:e,setFile:t,uploadImage:p})}),(0,y.jsxs)(R,{children:[(0,y.jsx)(z,{viewInput:F,setViewInput:H,itemCategory:E,addCateg:W,removeCateg:on,setNewCateg:T}),(0,y.jsxs)("select",{value:i,onChange:function(n){a(n.target.value)},children:[(0,y.jsx)("option",{value:"none",children:" \uc120\ud0dd "}),E.map((function(n){return(0,y.jsx)("option",{value:n.category,children:n.category},n.id)}))]})]}),(0,y.jsxs)(X,{children:[(0,y.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,y.jsx)("input",{type:"text",onChange:K,name:"products",value:Z.products})]}),(0,y.jsxs)(nn,{children:[(0,y.jsx)("label",{children:"\uc218\ub7c9 "}),(0,y.jsxs)(en,{children:[(0,y.jsx)("button",{type:"button",onClick:function(){P>0&&S((function(){return Number(P-1)}))},children:"-"}),(0,y.jsx)("input",{type:"number",value:P,onChange:K,name:"quantity"}),(0,y.jsx)("button",{type:"button",onClick:function(){S((function(){return Number(P+1)}))},children:"+"})]})]}),(0,y.jsxs)(tn,{children:[(0,y.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,y.jsx)("input",{type:"text",onChange:K,value:Z.location,name:"location"})]}),(0,y.jsxs)(rn,{children:[(0,y.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,y.jsx)("input",{type:"text",onChange:K,value:Z.purchase,name:"purchase"}),(0,y.jsx)("select",{onChange:function(n){l(n.target.value)},value:o,children:A.map((function(n){return(0,y.jsx)("option",{value:n.value,children:n.value},n.key)}))})]}),(0,y.jsxs)(an,{children:[(0,y.jsx)("label",{children:"\uc124\uba85 "}),(0,y.jsx)("textarea",{cols:"30",rows:"10",onChange:K,value:Z.descript,name:"descript"})]})]})},$=b.ZP.div(V||(V=(0,o.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n\n  label {\n    font-size: 1.2rem;\n    font-weight: bold;\n    margin: 5px 0px;\n  }\n"]))),Q=b.ZP.div(I||(I=(0,o.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n"]))),R=b.ZP.div(F||(F=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n  label {\n    margin-right: 10px;\n  }\n"]))),X=b.ZP.div(H||(H=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  width: 320px;\n\n  input {\n    padding: 5px 0;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),nn=b.ZP.div(J||(J=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    border-radius: 10px;\n  }\n\n  button {\n    border: none;\n    border-radius: 50%;\n    background-color: #616365;\n    font-weight: bold;\n    color: #fff;\n    padding: 0px 10px;\n\n    :hover {\n      background-color: #667078;\n    }\n  }\n"]))),en=b.ZP.div(M||(M=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n\n  input {\n    width: 290px;\n    text-align: center;\n    margin: 0px 10px;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),tn=b.ZP.div(D||(D=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n"]))),rn=b.ZP.div(T||(T=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  input {\n    padding: 5px 0;\n    margin-bottom: 5px;\n    padding-left: 10px;\n    border-radius: 10px;\n  }\n\n  select {\n    margin-top: 10px;\n    text-align: center;\n    border-radius: 10px;\n    font-size: 1rem;\n    font-weight: bold;\n    padding: 5px 0px;\n  }\n"]))),an=b.ZP.div(_||(_=(0,o.Z)(["\n  width: 320px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n\n  textarea {\n    border-radius: 10px;\n    padding-left: 10px;\n  }\n"]))),on=t(2426),cn=t.n(on),un=(t(8015),t(4453));var sn=function(n){var e=n.userObj,t=(0,d.useState)(""),r=(0,s.Z)(t,2),i=r[0],a=r[1],o=(0,d.useState)(""),h=(0,s.Z)(o,2),m=h[0],v=h[1],b=(0,d.useState)(0),Z=(0,s.Z)(b,2),j=Z[0],k=Z[1],w=(0,O.FV)(N.V2),C=(0,s.Z)(w,2),P=C[0],S=C[1],V=(0,O.FV)(N.ZH),I=(0,s.Z)(V,2),F=I[0],H=I[1],J=(0,d.useState)(""),M=(0,s.Z)(J,2),D=M[0],T=M[1],_=(0,d.useState)("\uc628\ub77c\uc778"),z=(0,s.Z)(_,2),B=z[0],E=z[1],Y=(0,l.cI)(),q=Y.register,G=Y.handleSubmit,L=Y.formState.errors,U=(0,x.s0)(),A=function(){var n=(0,u.Z)((0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,100!==j){n.next=12;break}return n.next=4,(0,g.ET)((0,g.hJ)(f.db,"items"),{creatorId:e.uid,category:D,products:P.products,quantity:F,storageLocation:P.location,purchase:P.purchase,purchaseMethod:B,descript:P.descript,createDate:cn()().format("YYYY-MM-DD"),productsImg:m});case 4:t=n.sent,console.log(t.id),S({products:"",location:"",purchase:"",descript:"",createdAt:""}),H(0),U("/"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n.next=14;break;case 12:return alert("\uc0ac\uc9c4\uc744 \uc5c5\ub85c\ub4dc \ud558\uc138\uc694"),n.abrupt("return");case 14:n.next=19;break;case 16:n.prev=16,n.t0=n.catch(0),console.error(n.t0.message);case 19:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(){return n.apply(this,arguments)}}();return(0,y.jsx)(dn,{children:(0,y.jsxs)(ln,{onSubmit:G(A),children:[(0,y.jsx)(pn,{children:(0,y.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,y.jsx)(xn,{children:(0,y.jsx)(W,{register:q,errors:L,percent:j,setFile:a,userObj:e,categoryValue:D,setCatagoryValue:T,methodValue:B,setMethodValue:E,uploadImage:function(){if(i){var n=(0,un.iH)(f.tO,"/files/".concat(i.name)),e=(0,un.B0)(n,i);e.on("state_changed",(function(n){var e=Math.round(n.bytesTransferred/n.totalBytes*100);k(e)}),(function(n){return console.log(n)}),(function(){(0,un.Jt)(e.snapshot.ref).then((function(n){v(n)}))})),100===j&&(alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),console.log(m))}else alert("\uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694!")}})}),(0,y.jsxs)(fn,{children:[(0,y.jsx)(p.rU,{to:"/",children:(0,y.jsx)(hn,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,y.jsx)(gn,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})},dn=b.ZP.div(Y||(Y=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ln=b.ZP.form(q||(q=(0,o.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),pn=b.ZP.div(G||(G=(0,o.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),xn=b.ZP.div(L||(L=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),fn=b.ZP.div(U||(U=(0,o.Z)(["\n  display: flex;\n"]))),gn=b.ZP.input(A||(A=(0,o.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986f5;\n  color: #fff;\n  cursor: pointer;\n"]))),hn=b.ZP.button(K||(K=(0,o.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #f9567a;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=386.0d677c82.chunk.js.map