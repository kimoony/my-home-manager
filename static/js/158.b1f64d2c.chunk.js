"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[158],{7288:function(e,n,t){t.d(n,{$B:function(){return s},KL:function(){return c},PH:function(){return i},TT:function(){return d},V2:function(){return u},VG:function(){return p},ZH:function(){return o},cs:function(){return l},fU:function(){return f},jd:function(){return a},oD:function(){return h}});var r=t(1610),a=(0,r.cn)({key:"editState",default:!1}),i=(0,r.cn)({key:"loginState",default:!1}),c=(0,r.cn)({key:"userState",default:!1}),u=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),o=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),d=(0,r.cn)({key:"getItemsState",default:[]}),f=(0,r.cn)({key:"getWishState",default:[]}),h=(0,r.cn)({key:"itemCategoryState",default:[]}),p=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},8742:function(e,n,t){t(2791);var r=t(184);n.Z=function(e){var n=e.setFile,t=e.percent;return e.image,(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){n(e.target.files[0])}}),(0,r.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})}},158:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(4165),a=t(1413),i=t(5861),c=t(885),u=t(7288),o=t(3108),s=t(9062),l=t(2791),d=t(6871),f=t(1610),h=t(4942),p=t(8838),g=t(8742),x=t(184);var v=function(e){var n=e.item,t=e.setItem,v=e.itemCategValue,m=e.onChangeICateg,j=e.methodCategValu,y=e.onChangeMCateg,Z=e.setFile,b=(0,f.FV)(u.oD),k=(0,c.Z)(b,2),C=k[0],S=k[1],w=(0,f.sJ)(u.VG);console.log(w);var P=(0,d.s0)();(0,l.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.PL)((0,s.hJ)(o.db,"itemCateg"));case 2:n=e.sent,S(n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[S,C]),console.log(C);var F=function(e){t((0,a.Z)((0,a.Z)({},n),{},(0,h.Z)({},e.target.name,e.target.value)))};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h1",{children:"\uc218\uc815\ud398\uc774\uc9c0"}),(0,x.jsx)("img",{src:n.productsImg,alt:""}),(0,x.jsx)(g.Z,{setFile:Z}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\ubb3c\ud488\uba85: "}),(0,x.jsx)("input",{name:"products",value:n.products,onChange:F})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac: "}),(0,x.jsx)("select",{value:v,onChange:m,children:C.map((function(e){return(0,x.jsx)("option",{value:e.category,children:e.category})}))})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\uc218\ub7c9: "}),(0,x.jsx)("input",{type:"number",name:"quantity",value:n.quantity,onChange:F})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58: "}),(0,x.jsx)("input",{name:"storageLocation",value:n.storageLocation,onChange:F})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\uad6c\ub9e4\ucc98: "}),(0,x.jsx)("input",{name:"purchase",value:n.purchase,onChange:F})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\uad6c\ub9e4\ubc29\ubc95: "}),(0,x.jsx)("select",{value:j,onChange:y,children:w.map((function(e){return(0,x.jsx)("option",{value:e.value,children:e.value})}))})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{children:"\uc124\uba85: "}),(0,x.jsx)("textarea",{name:"descript",value:n.descript,onChange:F})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("button",{type:"submit",children:"Update"}),(0,x.jsx)(p.ks,{onClick:function(){return P(-1)},children:"\ub4a4\ub85c\uac00\uae30"})]})]})},m=t(4453);var j=function(){var e=(0,l.useState)({}),n=(0,c.Z)(e,2),t=n[0],h=n[1],p=(0,f.FV)(u.TT),g=(0,c.Z)(p,2),j=g[0],y=(g[1],(0,l.useState)(t.category)),Z=(0,c.Z)(y,2),b=Z[0],k=Z[1],C=(0,l.useState)(t.purchaseMethod),S=(0,c.Z)(C,2),w=S[0],P=S[1],F=(0,l.useState)(""),V=(0,c.Z)(F,2),I=V[0],_=V[1],M=(0,l.useState)(""),T=(0,c.Z)(M,2),J=T[0],L=T[1],U=(0,l.useState)(0),q=(0,c.Z)(U,2),B=q[0],D=q[1],E=(0,d.UO)().id,H=(0,d.s0)();(0,l.useEffect)((function(){if(j.length>0){var e=j.find((function(e){return e.id===E}));console.log(e),e&&h(e)}}),[j,E]);var A=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,c,u;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),i=(0,s.JU)(o.db,"items",t.id),e.prev=2,c=(0,m.iH)(o.tO,"/files/".concat(I.name)),(u=(0,m.B0)(c,I)).on("state_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);D(n)}),(function(e){return console.log(e)}),(function(){(0,m.Jt)(u.snapshot.ref).then((function(e){L(e)}))})),100!==B){e.next=12;break}return e.next=9,(0,s.r7)(i,(0,a.Z)((0,a.Z)({},t),{},{category:b,purchaseMethod:w,productsImg:J}));case 9:console.log(i.id),alert("\uc218\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),H("/item-detail/".concat(t.id));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0.message);case 17:return e.prev=17,console.log("End"),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})));return function(n){return e.apply(this,arguments)}}();return(0,x.jsx)("div",{children:(0,x.jsx)("form",{onSubmit:A,children:(0,x.jsx)(v,{item:t,setItem:h,itemCategValue:b,methodCategValue:w,onChangeICateg:function(e){k(e.target.value)},onChangeMCateg:function(e){P(e.target.value)},setFile:_})})})}},8838:function(e,n,t){t.d(n,{$_:function(){return x},h4:function(){return p},im:function(){return f},ks:function(){return m},l0:function(){return h},or:function(){return g},pp:function(){return v}});var r,a,i,c,u,o,s,l=t(168),d=t(6031),f=d.ZP.div(r||(r=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),h=d.ZP.form(a||(a=(0,l.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  border: 1px solid blue;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),p=d.ZP.div(i||(i=(0,l.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),g=d.ZP.div(c||(c=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),x=d.ZP.div(u||(u=(0,l.Z)(["\n  display: flex;\n"]))),v=d.ZP.input(o||(o=(0,l.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986F5;\n  color: #fff;\n  cursor: pointer;\n"]))),m=d.ZP.button(s||(s=(0,l.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #F9567A;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=158.b1f64d2c.chunk.js.map