"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[202],{7288:function(e,n,t){t.d(n,{$B:function(){return u},KL:function(){return a},PH:function(){return i},TT:function(){return l},V2:function(){return c},VG:function(){return f},ZH:function(){return o},cs:function(){return s},fU:function(){return d},oD:function(){return p}});var r=t(1610),i=((0,r.cn)({key:"modalState",default:!1}),(0,r.cn)({key:"loginState",default:!1})),a=(0,r.cn)({key:"userState",default:!1}),c=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),o=(0,r.cn)({key:"quantityState",default:0}),u=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),s=(0,r.cn)({key:"changedState",default:!1}),l=(0,r.cn)({key:"getItemsState",default:[]}),d=(0,r.cn)({key:"getWishState",default:[]}),p=(0,r.cn)({key:"itemCategoryState",default:[]}),f=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},1202:function(e,n,t){t.r(n),t.d(n,{default:function(){return ce}});var r=t(4165),i=t(5861),a=t(885),c=t(2791),o=t(1134),u=t(3504),s=t(6871),l=t(3108),d=t(9062),p=t(2982),f=t(4942),x=t(1413),h=t(184);var g=function(e){var n=e.setFile,t=e.percent;return(0,h.jsxs)("div",{children:[(0,h.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){n(e.target.files[0])}}),(0,h.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})};var m,v,y,Z,b,j,k,C,w,P,S,V=function(e){var n=e.viewInput,t=e.setViewInput,r=e.itemCategory,i=e.addCateg,o=e.removeCateg,u=e.setNewCateg,s=(0,c.useState)(!1),l=(0,a.Z)(s,2),d=l[0],p=l[1];return(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,h.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),n?null:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{type:"button",value:"+",onClick:function(){t(!0)}}),(0,h.jsx)("input",{type:"button",value:"-",onClick:function(){return p(!d)}})]}),n?(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,h.jsx)("input",{type:"text",onChange:function(e){u(e.target.value)},name:"newCategory"}),(0,h.jsx)("button",{type:"button",onClick:i,children:"\ucd94\uac00"}),(0,h.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):d?r.map((function(e){return(0,h.jsxs)("div",{children:[e.category," ",(0,h.jsx)("span",{onClick:o,children:"x"})]},e.id)})):null]})},F=t(168),I=t(6031),J=I.ZP.div(m||(m=(0,F.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n"]))),M=(I.ZP.div(v||(v=(0,F.Z)(["\n  \n"]))),I.ZP.div(y||(y=(0,F.Z)(["\n"]))),I.ZP.div(Z||(Z=(0,F.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"])))),D=I.ZP.div(b||(b=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),H=I.ZP.div(j||(j=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),T=I.ZP.div(k||(k=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),_=I.ZP.div(C||(C=(0,F.Z)(["\n  display: flex;\n  input {\n    width: 40px;\n    text-align: center;\n  }\n"]))),E=I.ZP.div(w||(w=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),N=I.ZP.div(P||(P=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),O=I.ZP.div(S||(S=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),Y=t(7288),q=t(1610);var A,B,L,U,G,K,W,$=function(e){e.register,e.errors;var n=e.percent,t=e.setFile,o=e.userObj,u=e.categoryValue,s=e.setCatagoryValue,m=e.methodValue,v=e.setMethodValue,y=(0,q.FV)(Y.V2),Z=(0,a.Z)(y,2),b=Z[0],j=Z[1],k=(0,q.FV)(Y.ZH),C=(0,a.Z)(k,2),w=C[0],P=C[1],S=(0,c.useState)(!1),F=(0,a.Z)(S,2),I=F[0],A=F[1],B=(0,c.useState)(""),L=(0,a.Z)(B,2),U=L[0],G=L[1],K=(0,q.FV)(Y.oD),W=(0,a.Z)(K,2),$=W[0],z=W[1],Q=(0,c.useState)({}),R=(0,a.Z)(Q,2),X=R[0],ee=R[1],ne=(0,q.sJ)(Y.VG);(0,c.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.PL)((0,d.hJ)(l.db,"itemCateg"));case 2:n=e.sent,z(n.docs.map((function(e){return(0,x.Z)((0,x.Z)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[z,$]),(0,c.useEffect)((function(){if($.length>0){var e=$.find((function(e){return e.id}));e&&ee(e)}}),[$]);var te=function(e){j((0,x.Z)((0,x.Z)({},b),{},(0,f.Z)({},e.target.name,e.target.value)))},re=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.ET)((0,d.hJ)(l.db,"itemCateg"),{category:U,creatorId:o.uid});case 3:n=e.sent,console.log(n.id),z([].concat((0,p.Z)($),[U])),A(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,d.JU)(l.db,"itemCateg",X.id),e.next=3,(0,d.oe)(n);case 3:z($.filter((function(e){return e.id!==X.id}))),alert("\uc0ad\uc81c");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(J,{children:[(0,h.jsx)(M,{children:(0,h.jsx)(g,{percent:n,setFile:t})}),(0,h.jsxs)(D,{children:[(0,h.jsx)(V,{viewInput:I,setViewInput:A,itemCategory:$,addCateg:re,removeCateg:ie,setNewCateg:G}),(0,h.jsxs)("select",{value:u,onChange:function(e){s(e.target.value)},children:[(0,h.jsx)("option",{value:"none",children:"=== \uc120\ud0dd ==="}),$.map((function(e){return(0,h.jsx)("option",{value:e.category,children:e.category},e.id)}))]})]}),(0,h.jsxs)(H,{children:[(0,h.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,h.jsx)("input",{type:"text",onChange:te,name:"products",value:b.products})]}),(0,h.jsxs)(T,{children:[(0,h.jsx)("label",{children:"\uc218\ub7c9 "}),(0,h.jsxs)(_,{children:[(0,h.jsx)("button",{type:"button",onClick:function(){w>0&&P((function(){return Number(w-1)}))},children:"-"}),(0,h.jsx)("input",{type:"number",value:w,onChange:te,name:"quantity"}),(0,h.jsx)("button",{type:"button",onClick:function(){P((function(){return Number(w+1)}))},children:"+"})]})]}),(0,h.jsxs)(E,{children:[(0,h.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,h.jsx)("input",{type:"text",onChange:te,value:b.location,name:"location"})]}),(0,h.jsxs)(N,{children:[(0,h.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,h.jsx)("input",{type:"text",onChange:te,value:b.purchase,name:"purchase"}),(0,h.jsx)("select",{onChange:function(e){v(e.target.value)},value:m,children:ne.map((function(e){return(0,h.jsx)("option",{value:e.value,children:e.value},e.key)}))})]}),(0,h.jsxs)(O,{children:[(0,h.jsx)("label",{children:"\uc124\uba85 "}),(0,h.jsx)("textarea",{cols:"30",rows:"10",onChange:te,value:b.descript,name:"descript"})]})]})},z=t(2426),Q=t.n(z),R=(t(8015),t(4453)),X=I.ZP.div(A||(A=(0,F.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),ee=I.ZP.form(B||(B=(0,F.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  border: 1px solid blue;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),ne=I.ZP.div(L||(L=(0,F.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),te=I.ZP.div(U||(U=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),re=I.ZP.div(G||(G=(0,F.Z)(["\n  display: flex;\n"]))),ie=I.ZP.input(K||(K=(0,F.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986F5;\n  color: #fff;\n  cursor: pointer;\n"]))),ae=I.ZP.button(W||(W=(0,F.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #F9567A;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])));var ce=function(e){var n=e.userObj,t=(0,c.useState)(""),p=(0,a.Z)(t,2),f=p[0],x=p[1],g=(0,c.useState)(""),m=(0,a.Z)(g,2),v=m[0],y=m[1],Z=(0,c.useState)(0),b=(0,a.Z)(Z,2),j=b[0],k=b[1],C=(0,q.FV)(Y.V2),w=(0,a.Z)(C,2),P=w[0],S=w[1],V=(0,q.FV)(Y.ZH),F=(0,a.Z)(V,2),I=F[0],J=F[1],M=(0,c.useState)(""),D=(0,a.Z)(M,2),H=D[0],T=D[1],_=(0,c.useState)("\uc628\ub77c\uc778"),E=(0,a.Z)(_,2),N=E[0],O=E[1],A=(0,o.cI)(),B=A.register,L=A.handleSubmit,U=A.formState.errors,G=(0,s.s0)(),K=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,i,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,f){e.next=4;break}return alert("Please choose a file first!"),e.abrupt("return");case 4:if(t=(0,R.iH)(l.tO,"/files/".concat(f.name)),(i=(0,R.B0)(t,f)).on("state_changed",(function(e){var n=Math.round(e.bytesTransferred/e.totalBytes*100);k(n)}),(function(e){return console.log(e)}),(function(){(0,R.Jt)(i.snapshot.ref).then((function(e){y(e)}))})),100!==j){e.next=17;break}return e.next=10,(0,d.ET)((0,d.hJ)(l.db,"items"),{creatorId:n.uid,category:H,products:P.products,quantity:I,storageLocation:P.location,purchase:P.purchase,purchaseMethod:N,descript:P.descript,createDate:Q()().format("YYYY-MM-DD"),productsImg:v});case 10:a=e.sent,console.log(a.id),S({products:"",location:"",purchase:"",descript:"",createdAt:""}),J(0),G("/"),alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(){return e.apply(this,arguments)}}();return(0,h.jsx)(X,{children:(0,h.jsxs)(ee,{onSubmit:L(K),children:[(0,h.jsx)(ne,{children:(0,h.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,h.jsx)(te,{children:(0,h.jsx)($,{register:B,errors:U,percent:j,setFile:x,userObj:n,categoryValue:H,setCatagoryValue:T,methodValue:N,setMethodValue:O})}),(0,h.jsxs)(re,{children:[(0,h.jsx)(u.rU,{to:"/",children:(0,h.jsx)(ae,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,h.jsx)(ie,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})}}}]);
//# sourceMappingURL=202.e6e03099.chunk.js.map