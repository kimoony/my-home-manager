"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[703],{7288:function(n,e,t){t.d(e,{$B:function(){return s},KL:function(){return c},PH:function(){return a},TT:function(){return d},V2:function(){return u},VG:function(){return x},ZH:function(){return o},cs:function(){return l},fU:function(){return p},jd:function(){return i},oD:function(){return f}});var r=t(1610),i=(0,r.cn)({key:"editState",default:!1}),a=(0,r.cn)({key:"loginState",default:!1}),c=(0,r.cn)({key:"userState",default:!1}),u=(0,r.cn)({key:"itemPostState",default:{products:"",location:"",purchase:"",descript:"",createdAt:""}}),o=(0,r.cn)({key:"quantityState",default:0}),s=(0,r.cn)({key:"wishPostState",default:{products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),d=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]}),f=(0,r.cn)({key:"itemCategoryState",default:[]}),x=(0,r.cn)({key:"methodCategoryState",default:[{key:0,value:"\uc628\ub77c\uc778"},{key:1,value:"\uc624\ud504\ub77c\uc778"},{key:2,value:"\uae30\ud0c0"}]})},8742:function(n,e,t){t(2791);var r=t(184);e.Z=function(n){var e=n.setFile,t=n.percent;return n.image,(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"file",accept:"image/*",onChange:function(n){e(n.target.files[0])}}),(0,r.jsxs)("span",{children:[t,' "% \uc644\ub8cc"']})]})}},8703:function(n,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(4165),i=t(5861),a=t(885),c=t(2791),u=t(1134),o=t(3504),s=t(6871),l=t(3108),d=t(9062),p=t(2982),f=t(4942),x=t(1413),h=t(8742),g=t(184);var m,v,y,Z,j,b,k,C,w,S,P,V=function(n){var e=n.viewInput,t=n.setViewInput,r=n.itemCategory,i=n.addCateg,u=n.removeCateg,o=n.setNewCateg,s=(0,c.useState)(!1),l=(0,a.Z)(s,2),d=l[0],p=l[1];return(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac "}),e?null:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("input",{type:"button",value:"+",onClick:function(){t(!0)}}),(0,g.jsx)("input",{type:"button",value:"-",onClick:function(){return p(!d)}})]}),e?(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,g.jsx)("input",{type:"text",onChange:function(n){o(n.target.value)},name:"newCategory"}),(0,g.jsx)("button",{type:"button",onClick:i,children:"\ucd94\uac00"}),(0,g.jsx)("button",{type:"button",onClick:function(){return t(!1)},children:"\ucde8\uc18c"})]}):d?r.map((function(n){return(0,g.jsxs)("div",{children:[n.category," ",(0,g.jsx)("span",{onClick:u,children:"x"})]},n.id)})):null]})},F=t(168),I=t(6031),_=I.ZP.div(m||(m=(0,F.Z)(["\n  width: 50vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  margin: 10px 0px;\n"]))),J=(I.ZP.div(v||(v=(0,F.Z)(["\n  \n"]))),I.ZP.div(y||(y=(0,F.Z)(["\n"]))),I.ZP.div(Z||(Z=(0,F.Z)(["\n  display: flex;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"])))),M=I.ZP.div(j||(j=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),D=I.ZP.div(b||(b=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),H=I.ZP.div(k||(k=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),T=I.ZP.div(C||(C=(0,F.Z)(["\n  display: flex;\n  input {\n    width: 40px;\n    text-align: center;\n  }\n"]))),E=I.ZP.div(w||(w=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),N=I.ZP.div(S||(S=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),O=I.ZP.div(P||(P=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n  label {\n    margin-right: 10px;\n  }\n"]))),Y=t(7288),q=t(1610);var A=function(n){n.register,n.errors;var e=n.percent,t=n.setFile,u=n.userObj,o=n.categoryValue,s=n.setCatagoryValue,m=n.methodValue,v=n.setMethodValue,y=(0,q.FV)(Y.V2),Z=(0,a.Z)(y,2),j=Z[0],b=Z[1],k=(0,q.FV)(Y.ZH),C=(0,a.Z)(k,2),w=C[0],S=C[1],P=(0,c.useState)(!1),F=(0,a.Z)(P,2),I=F[0],A=F[1],B=(0,c.useState)(""),L=(0,a.Z)(B,2),U=L[0],$=L[1],G=(0,q.FV)(Y.oD),K=(0,a.Z)(G,2),W=K[0],z=K[1],Q=(0,c.useState)({}),R=(0,a.Z)(Q,2),X=R[0],nn=R[1],en=(0,q.sJ)(Y.VG);(0,c.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.PL)((0,d.hJ)(l.db,"itemCateg"));case 2:e=n.sent,z(e.docs.map((function(n){return(0,x.Z)((0,x.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[z,W]),(0,c.useEffect)((function(){if(W.length>0){var n=W.find((function(n){return n.id}));n&&nn(n)}}),[W]);var tn=function(n){b((0,x.Z)((0,x.Z)({},j),{},(0,f.Z)({},n.target.name,n.target.value)))},rn=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,d.ET)((0,d.hJ)(l.db,"itemCateg"),{category:U,creatorId:u.uid});case 3:e=n.sent,console.log(e.id),z([].concat((0,p.Z)(W),[U])),A(!1),alert("\ucd94\uac00 \uc644\ub8cc!"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.error(n.t0.message);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}(),an=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,d.JU)(l.db,"itemCateg",X.id),n.next=3,(0,d.oe)(e);case 3:z(W.filter((function(n){return n.id!==X.id}))),alert("\uc0ad\uc81c");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,g.jsxs)(_,{children:[(0,g.jsx)(J,{children:(0,g.jsx)(h.Z,{percent:e,setFile:t})}),(0,g.jsxs)(M,{children:[(0,g.jsx)(V,{viewInput:I,setViewInput:A,itemCategory:W,addCateg:rn,removeCateg:an,setNewCateg:$}),(0,g.jsxs)("select",{value:o,onChange:function(n){s(n.target.value)},children:[(0,g.jsx)("option",{value:"none",children:"=== \uc120\ud0dd ==="}),W.map((function(n){return(0,g.jsx)("option",{value:n.category,children:n.category},n.id)}))]})]}),(0,g.jsxs)(D,{children:[(0,g.jsx)("label",{children:"\ubb3c\ud488\uba85 "}),(0,g.jsx)("input",{type:"text",onChange:tn,name:"products",value:j.products})]}),(0,g.jsxs)(H,{children:[(0,g.jsx)("label",{children:"\uc218\ub7c9 "}),(0,g.jsxs)(T,{children:[(0,g.jsx)("button",{type:"button",onClick:function(){w>0&&S((function(){return Number(w-1)}))},children:"-"}),(0,g.jsx)("input",{type:"number",value:w,onChange:tn,name:"quantity"}),(0,g.jsx)("button",{type:"button",onClick:function(){S((function(){return Number(w+1)}))},children:"+"})]})]}),(0,g.jsxs)(E,{children:[(0,g.jsx)("label",{children:"\ubcf4\uad00\uc704\uce58 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:j.location,name:"location"})]}),(0,g.jsxs)(N,{children:[(0,g.jsx)("label",{children:"\uad6c\ub9e4\ucc98/\uad6c\ub9e4\ubc29\ubc95 "}),(0,g.jsx)("input",{type:"text",onChange:tn,value:j.purchase,name:"purchase"}),(0,g.jsx)("select",{onChange:function(n){v(n.target.value)},value:m,children:en.map((function(n){return(0,g.jsx)("option",{value:n.value,children:n.value},n.key)}))})]}),(0,g.jsxs)(O,{children:[(0,g.jsx)("label",{children:"\uc124\uba85 "}),(0,g.jsx)("textarea",{cols:"30",rows:"10",onChange:tn,value:j.descript,name:"descript"})]})]})},B=t(2426),L=t.n(B),U=(t(8015),t(4453)),$=t(8838);var G=function(n){var e=n.userObj,t=(0,c.useState)(""),p=(0,a.Z)(t,2),f=p[0],x=p[1],h=(0,c.useState)(""),m=(0,a.Z)(h,2),v=m[0],y=m[1],Z=(0,c.useState)(0),j=(0,a.Z)(Z,2),b=j[0],k=j[1],C=(0,q.FV)(Y.V2),w=(0,a.Z)(C,2),S=w[0],P=w[1],V=(0,q.FV)(Y.ZH),F=(0,a.Z)(V,2),I=F[0],_=F[1],J=(0,c.useState)(""),M=(0,a.Z)(J,2),D=M[0],H=M[1],T=(0,c.useState)("\uc628\ub77c\uc778"),E=(0,a.Z)(T,2),N=E[0],O=E[1],B=(0,u.cI)(),G=B.register,K=B.handleSubmit,W=B.formState.errors,z=(0,s.s0)(),Q=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t,i,a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,f){n.next=4;break}return alert("\uc774\ubbf8\uc9c0\ub97c \uc120\ud0dd\ud558\uc138\uc694!"),n.abrupt("return");case 4:if(t=(0,U.iH)(l.tO,"/files/".concat(f.name)),(i=(0,U.B0)(t,f)).on("state_changed",(function(n){var e=Math.round(n.bytesTransferred/n.totalBytes*100);k(e)}),(function(n){return console.log(n)}),(function(){(0,U.Jt)(i.snapshot.ref).then((function(n){y(n)}))})),100!==b){n.next=17;break}return n.next=10,(0,d.ET)((0,d.hJ)(l.db,"items"),{creatorId:e.uid,category:D,products:S.products,quantity:I,storageLocation:S.location,purchase:S.purchase,purchaseMethod:N,descript:S.descript,createDate:L()().format("YYYY-MM-DD"),productsImg:v});case 10:a=n.sent,console.log(a.id),P({products:"",location:"",purchase:"",descript:"",createdAt:""}),_(0),z("/"),alert("\uc774\ubbf8 \uc5c5\ub85c\ub4dc \uc644\ub8cc"),alert("\ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),console.error(n.t0.message);case 22:case"end":return n.stop()}}),n,null,[[0,19]])})));return function(){return n.apply(this,arguments)}}();return(0,g.jsx)($.im,{children:(0,g.jsxs)($.l0,{onSubmit:K(Q),children:[(0,g.jsx)($.h4,{children:(0,g.jsx)("h1",{children:"\ubb3c\ud488 \ub4f1\ub85d\ud558\uae30"})}),(0,g.jsx)($.or,{children:(0,g.jsx)(A,{register:G,errors:W,percent:b,setFile:x,userObj:e,categoryValue:D,setCatagoryValue:H,methodValue:N,setMethodValue:O})}),(0,g.jsxs)($.$_,{children:[(0,g.jsx)(o.rU,{to:"/",children:(0,g.jsx)($.ks,{children:"\ub4a4\ub85c\uac00\uae30"})}),(0,g.jsx)($.pp,{type:"submit",value:"\ub4f1\ub85d\ud558\uae30"})]})]})})}},8838:function(n,e,t){t.d(e,{$_:function(){return g},h4:function(){return x},im:function(){return p},ks:function(){return v},l0:function(){return f},or:function(){return h},pp:function(){return m}});var r,i,a,c,u,o,s,l=t(168),d=t(6031),p=d.ZP.div(r||(r=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),f=d.ZP.form(i||(i=(0,l.Z)(["\n  width: 90vw;\n  height: 90vh;\n  margin-top: 20px;\n  border: 1px solid blue;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),x=d.ZP.div(a||(a=(0,l.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),h=d.ZP.div(c||(c=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),g=d.ZP.div(u||(u=(0,l.Z)(["\n  display: flex;\n"]))),m=d.ZP.input(o||(o=(0,l.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #2986F5;\n  color: #fff;\n  cursor: pointer;\n"]))),v=d.ZP.button(s||(s=(0,l.Z)(["\n  padding: 5px 10px;\n  border: none;\n  border-radius: 5px;\n  background-color: #F9567A;\n  color: #fff;\n  margin-right: 20px;\n  cursor: pointer;\n"])))}}]);
//# sourceMappingURL=703.f5647cd4.chunk.js.map