{"version":3,"file":"static/js/286.82d0c089.chunk.js","mappings":"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","sources":["atoms.js","components/content/Item.js","routes/ItemDetail.js"],"sourcesContent":["import { atom } from \"recoil\";\n\nexport const modalState = atom({\n  key: \"modalState\",\n  default: false,\n});\n\nexport const loginState = atom({\n  key: \"loginState\",\n  default: false,\n});\n\nexport const userState = atom({\n  key: \"userState\",\n  default: true,\n});\n\nexport const itemPostState = atom({\n  key: \"itemPostState\",\n  default: {\n    category: \"\",\n    products: \"\",\n    location: \"\",\n    purchase: \"\",\n    purchaseMethod: \"\",\n    descript: \"\",\n    createdAt: \"\",\n  },\n});\n\nexport const quantityState = atom({\n  key: \"quantityState\",\n  default: 0,\n});\n\nexport const wishPostState = atom({\n  key: \"wishPostState\",\n  default: {\n    category: \"\",\n    products: \"\",\n    price: 0,\n    descript: \"\",\n  },\n});\n\nexport const changedState = atom({\n  key: \"changedState\",\n  default: false,\n});\n\nexport const getItemsState = atom({\n  key: \"getItemsState\",\n  default: [],\n});\n\nexport const getWishState = atom({\n  key: \"getWishState\",\n  default: [],\n});\n","import React from \"react\";\n\nfunction CurrentItem({ item, setItem, isEdit }) {\n  const changeValue = (e) => {\n    setItem({\n      ...item,\n      [e.target.name]: e.target.value,\n    });\n  };\n  return (\n    <div>\n      {isEdit === false ? (\n        <>\n          <h1>{item.products}</h1>\n          <p>등록시간: {item.createDate}</p>\n          <div>\n            <label>카테고리: </label>\n            <span>{item.category}</span>\n          </div>\n          <div>\n            <label>수량: </label>\n            <span>{item.quantity}</span>\n          </div>\n          <div>\n            <label>보관위치: </label>\n            <span>{item.storageLocation}</span>\n          </div>\n          <div>\n            <label>구매처/구매방법: </label>\n            <span>\n              {item.purchase} / {item.purchaseMethod}\n            </span>\n          </div>\n          <div>\n            <label>설명: </label>\n            <span>{item.descript}</span>\n          </div>\n        </>\n      ) : (\n        <>\n          <h1>수정페이지</h1>\n          <div>\n            <label>물품명: </label>\n            <input\n              name=\"products\"\n              value={item.products}\n              onChange={changeValue}\n            ></input>\n          </div>\n          <div>\n            <label>카테고리: </label>\n            <select name=\"category\">\n              <option\n                name=\"category\"\n                value={item.category}\n                onChange={changeValue}\n              ></option>\n            </select>\n          </div>\n          <div>\n            <label>수량: </label>\n            <input\n              type=\"number\"\n              name=\"quantity\"\n              value={item.quantity}\n              onChange={changeValue}\n            ></input>\n          </div>\n          <div>\n            <label>보관위치: </label>\n            <input\n              name=\"storageLocation\"\n              value={item.storageLocation}\n              onChange={changeValue}\n            ></input>\n          </div>\n          <div>\n            <label>구매처: </label>\n            <input\n              name=\"purchase\"\n              value={item.purchase}\n              onChange={changeValue}\n            ></input>\n          </div>\n          <div>\n            <label>구매처/구매방법: </label>\n            <select name=\"purchaseMethod\">\n              <option\n                name=\"purchaseMethod\"\n                value={item.purchaseMethod}\n                onChange={changeValue}\n              ></option>\n            </select>\n          </div>\n          <div>\n            <label>설명: </label>\n            <textarea\n              name=\"descript\"\n              value={item.descript}\n              onChange={changeValue}\n            ></textarea>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default CurrentItem;\n","import React, { useEffect, useState } from \"react\";\nimport { db, storage } from \"../firebase\";\nimport { doc, deleteDoc, updateDoc } from \"firebase/firestore\";\nimport { ref, uploadBytes } from \"firebase/storage\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport Item from \"components/content/Item\";\nimport { getItemsState } from \"atoms\";\nimport { useRecoilState } from \"recoil\";\n\nfunction ItemDetailed() {\n  const [getImages, setGetImages] = useState();\n  const [targetId, setTargetId] = useState({});\n  const [getItems, setGetItems] = useRecoilState(getItemsState);\n  const [isEdit, setIsEdit] = useState(false);\n\n  const { id } = useParams();\n  console.log(id);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (getItems.length > 0) {\n      const targetItem = getItems.find((item) => item.id === id);\n      console.log(targetItem);\n      if (targetItem) {\n        setTargetId(targetItem);\n      }\n    }\n  }, [getItems, id]);\n\n  useEffect((file) => {\n    const getImg = async () => {\n      const storageRef = ref(storage, \"itemImage\");\n      const data = await uploadBytes(storageRef, file);\n      setGetImages(data);\n    };\n    getImg();\n  }, []);\n\n  const onUpdateItem = async (e) => {\n    e.preventDefault();\n    const editRef = doc(db, \"items\", targetId.id);\n    try {\n      await updateDoc(editRef, {\n        ...targetId,\n      });\n      console.log(editRef.id);\n\n      setIsEdit(false);\n      alert(\"등록이 완료되었습니다.\");\n    } catch (error) {\n      console.error(error.message);\n    } finally {\n      console.log(\"End\");\n    }\n  };\n\n  const onDeleteItem = async (id) => {\n    const delItem = doc(db, \"items\", targetId.id);\n    await deleteDoc(delItem);\n    setGetItems(getItems.filter((item) => item.id !== targetId.id));\n    alert(\"삭제완료!\");\n    navigate(\"/\");\n  };\n\n  return (\n    <div>\n      <Link to=\"/\">\n        <button>←</button>\n      </Link>\n      <Item\n        item={targetId}\n        setItem={setTargetId}\n        isEdit={isEdit}\n        setIsEdit={setIsEdit}\n      />\n      {isEdit === false ? (\n        <button onClick={() => setIsEdit(true)}>수정</button>\n      ) : (\n        <button onClick={onUpdateItem}>완료</button>\n      )}\n\n      <button onClick={onDeleteItem}>삭제</button>\n    </div>\n  );\n}\n\nexport default ItemDetailed;\n"],"names":["modalState","atom","key","default","loginState","userState","itemPostState","category","products","location","purchase","purchaseMethod","descript","createdAt","quantityState","wishPostState","price","changedState","getItemsState","getWishState","item","setItem","isEdit","changeValue","e","target","name","value","createDate","quantity","storageLocation","onChange","type","useState","setGetImages","targetId","setTargetId","useRecoilState","getItems","setGetItems","setIsEdit","id","useParams","console","log","navigate","useNavigate","useEffect","length","targetItem","find","file","getImg","storageRef","ref","storage","uploadBytes","data","onUpdateItem","preventDefault","editRef","doc","db","updateDoc","alert","error","message","onDeleteItem","delItem","deleteDoc","filter","to","Item","onClick"],"sourceRoot":""}