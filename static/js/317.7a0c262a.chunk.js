"use strict";(self.webpackChunkmy_home_manager=self.webpackChunkmy_home_manager||[]).push([[317],{7288:function(n,e,t){t.d(e,{$B:function(){return d},KL:function(){return a},PH:function(){return s},TT:function(){return u},V2:function(){return c},ZH:function(){return o},cs:function(){return l},eT:function(){return i},fU:function(){return p}});var r=t(1610),i=(0,r.cn)({key:"modalState",default:!1}),s=(0,r.cn)({key:"loginState",default:!1}),a=(0,r.cn)({key:"userState",default:!0}),c=(0,r.cn)({key:"itemPostState",default:{category:"",products:"",location:"",purchase:"",purchaseMethod:"",descript:"",createdAt:""}}),o=(0,r.cn)({key:"quantityState",default:0}),d=(0,r.cn)({key:"wishPostState",default:{category:"",products:"",price:0,descript:""}}),l=(0,r.cn)({key:"changedState",default:!1}),u=(0,r.cn)({key:"getItemsState",default:[]}),p=(0,r.cn)({key:"getWishState",default:[]})},3317:function(n,e,t){t.r(e),t.d(e,{default:function(){return bn}});var r,i,s,a,c,o,d,l,u,p,h,f,x,g,m,Z,j,v,b,w,y,k=t(4165),P=t(1413),C=t(5861),I=t(885),S=t(2791),F=t(3504),L=t(6871),O=t(3108),T=t(1610),q=t(7288),V=t(9062),J=t(168),N=t(6031),M=N.ZP.div(r||(r=(0,J.Z)(["\n  width: 100%;\n"]))),U=N.ZP.header(i||(i=(0,J.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),H=N.ZP.h1(s||(s=(0,J.Z)([""]))),E=(N.ZP.input(a||(a=(0,J.Z)([""]))),N.ZP.div(c||(c=(0,J.Z)(["\n  width: 100%;\n  margin-bottom: 20px;\n"])))),D=N.ZP.button(o||(o=(0,J.Z)(["\n  margin-right: 30px;\n  float: right;\n  cursor: pointer;\n"]))),_=N.ZP.div(d||(d=(0,J.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-left: 20px;\n"]))),X=N.ZP.div(l||(l=(0,J.Z)(["\n  width: 100vw;\n  height: 505px;\n  margin-right: 10px;\n  button {\n    margin-top: 5px;\n    float: right;\n    margin-right: 10px;\n  }\n"]))),A=N.ZP.div(u||(u=(0,J.Z)(["\n  width: 95%;\n  height: 100%;\n  border: 1px solid red;\n  padding: 10px 15px;\n"]))),G=N.ZP.div(p||(p=(0,J.Z)(["\n  width: 70vw;\n  height: 400px;\n  margin-right: 50px;\n  button {\n    margin-top: 5px;\n    float: right;\n    margin-right: -15px;\n  }\n"]))),K=N.ZP.div(h||(h=(0,J.Z)(["\n  width: 100%;\n  height: 50%;\n  padding: 10px;\n  border: 1px solid blue;\n"]))),R=N.ZP.div(f||(f=(0,J.Z)(["\n  width: 100%;\n  height: 55.7%;\n  padding: 10px;\n  border: 1px solid green;\n"]))),$=N.ZP.button(x||(x=(0,J.Z)(["\n  border: none;\n  border-radius: 5px;\n  background-color: #2986f5;\n  color: #fff;\n  padding: 5px 10px;\n  cursor: pointer;\n"]))),z=t(1134),B=t(255),W=N.ZP.div(g||(g=(0,J.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: rgba(0, 0, 0, .3);\n"]))),Q=N.ZP.div(m||(m=(0,J.Z)(["\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  max-height: 80%;\n  width: 20rem;\n  height: 80%;\n  padding: 16px;\n  background: rgb(25, 31, 44);\n  border-radius: 10px;\n  text-align: center;\n"]))),Y=N.ZP.form(Z||(Z=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),nn=N.ZP.button(j||(j=(0,J.Z)(["\n  border: none;\n  border-radius: 5px;\n  color: #fff;\n  background-color: rgb(25, 31, 44);\n  float: right;\n  margin-bottom: 20px;\n"]))),en=N.ZP.h1(v||(v=(0,J.Z)(["\n  color: #fff;\n"]))),tn=N.ZP.div(b||(b=(0,J.Z)(["\n  display: flex;\n  flex-direction: column;\n  span {\n    align-self: flex-start;\n    color: red;\n    margin: 5px 0px;\n  }\n"]))),rn=N.ZP.input(w||(w=(0,J.Z)(["\n"]))),sn=N.ZP.span(y||(y=(0,J.Z)(["\n  color: #fff;\n  display: inline-block;\n  margin-top: 10px;\n"]))),an=t(1363),cn=t(6307),on=t(7118),dn=t(184);cn.vI.add(on.vnX);var ln=function(n){var e=n.closeModal,t=n.setIsLogIn,r=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(r){var i,s;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"google"===r.target.name&&(i=new B.hJ),n.next=4,(0,B.rh)(O.ON,i);case 4:s=n.sent,console.log(s),e(),t(!0),alert("\ub85c\uadf8\uc778 \uc644\ub8cc!");case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,dn.jsx)("div",{className:"auth-container",children:(0,dn.jsx)("div",{className:"social_login-box",children:(0,dn.jsxs)("button",{className:"btn google-btn",name:"google",onClick:r,children:[(0,dn.jsx)(an.G,{icon:["fab","google"]})," Google \ub85c\uadf8\uc778"]})})})};var un=function(n){var e=n.closeModal,t=n.onModal,r=n.setIsLogIn,i=(0,z.cI)(),s=i.register,a=i.handleSubmit,c=i.watch,o=i.formState.errors,d=(0,T.FV)(q.KL),l=(0,I.Z)(d,2),u=l[0],p=l[1],h=(0,S.useState)(""),f=(0,I.Z)(h,2),x=f[0],g=f[1],m=(0,S.useRef)();m.current=c("password");var Z=(0,L.s0)(),j=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(t){var i;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log(t),n.prev=1,!u){n.next=9;break}return n.next=5,(0,B.Xb)(O.ON,t.email,t.password);case 5:i=n.sent,p(!1),n.next=17;break;case 9:return(0,B.Fb)(O.ON,B.aT),n.next=12,(0,B.e5)(O.ON,t.email,t.password);case 12:i=n.sent,e(),r(!0),alert("\ub85c\uadf8\uc778 \uc644\ub8cc!"),Z("/");case 17:console.log(i),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(1),g(n.t0.message);case 23:case"end":return n.stop()}}),n,null,[[1,20]])})));return function(e){return n.apply(this,arguments)}}();return(0,dn.jsx)(dn.Fragment,{children:t?(0,dn.jsx)(W,{children:(0,dn.jsxs)(Q,{children:[(0,dn.jsxs)(Y,{onSubmit:a(j),children:[(0,dn.jsx)("div",{children:(0,dn.jsx)(nn,{onClick:e,children:"X"})}),(0,dn.jsx)(en,{children:u?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"}),(0,dn.jsxs)(tn,{children:[(0,dn.jsx)(rn,(0,P.Z)({name:"email",type:"email",placeholder:"\uc774\uba54\uc77c"},s("email",{required:!0,pattern:/^\S+@\S+$/i}))),o.email&&"required"===o.email.type&&(0,dn.jsx)("p",{children:"\uc774\uba54\uc77c\uc740 \ubc18\ub4dc\uc2dc \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."}),o.email&&"pattern"===o.email.type&&(0,dn.jsx)("p",{children:"\uc774\uba54\uc77c\uc774 \ud615\uc2dd\uc5d0 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),(0,dn.jsx)(rn,(0,P.Z)((0,P.Z)({name:"password",type:"password"},s("password",{required:!0,minLength:8})),{},{minLength:8,placeholder:"\ube44\ubc00\ubc88\ud638 8\uc790\ub9ac \uc774\uc0c1"})),o.password&&"required"===o.password.type&&(0,dn.jsx)("p",{children:"\ube44\ubc00\ubc88\ud638\ub294 \ubc18\ub4dc\uc2dc \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."}),o.password&&"minLength"===o.password.type&&(0,dn.jsx)("p",{children:"\ube44\ubc00\ubc88\ud638\ub294 6\uae00\uc790 \uc774\uc0c1\uc774\uc5ec\uc57c \ud569\ub2c8\ub2e4."}),u?(0,dn.jsx)(rn,(0,P.Z)((0,P.Z)({name:"passwordConfirm",type:"password"},s("passwordConfirm",{required:!0,validate:function(n){return n===m.current}})),{},{placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc7ac\uc785\ub825"})):null,o.passwordConfirm&&"required"===o.passwordConfirm.type&&(0,dn.jsx)("p",{children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc740 \ubc18\ub4dc\uc2dc \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."}),o.passwordConfirm&&"validate"===o.passwordConfirm.type&&(0,dn.jsx)("p",{children:"\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),x&&(0,dn.jsx)("p",{children:x}),(0,dn.jsx)(rn,{type:"submit",value:u?"\ud68c\uc6d0\uac00\uc785":"\ub85c\uadf8\uc778"})]})]}),(0,dn.jsx)(sn,{onClick:function(){return p((function(n){return!n}))},children:u?"\uac00\uc785\ud588\ub2e4\uba74? \u261b\u261b \ub85c\uadf8\uc778\ud558\uae30":"\ud68c\uc6d0\uac00\uc785 \ud558\ub7ec \uac00\uae30.."}),(0,dn.jsx)(ln,{closeModal:e,setIsLogIn:r})]})}):null})};var pn,hn,fn=function(n){var e=n.userObj,t=(0,T.sJ)(q.PH),r=(0,T.sJ)(q.TT);return(0,dn.jsx)(dn.Fragment,{children:t?r.map((function(n){return e.uid===n.creatorId?(0,dn.jsx)("div",{children:n.quantity<=3?"".concat(n.products,"\uac00 ").concat(n.quantity,"\uac1c \ub0a8\uc558\uc2b5\ub2c8\ub2e4. "):""},n.id):null})):null})},xn=N.ZP.div(pn||(pn=(0,J.Z)(["\n  width: 90%;\n  height: 100px;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n"])));N.ZP.div(hn||(hn=(0,J.Z)(["\n\n"])));var gn,mn,Zn=function(n){var e=n.userObj,t=(0,T.sJ)(q.PH),r=(0,S.useState)({}),i=(0,I.Z)(r,2),s=i[0],a=i[1],c=(0,T.FV)(q.fU),o=(0,I.Z)(c,2),d=o[0],l=o[1],u=(0,L.s0)();(0,S.useEffect)((function(){if(d.length>0){var n=d.find((function(n){return n.id}));n&&a(n)}}),[d]);var p=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(){var e;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,V.JU)(O.db,"wishItems",s.id),n.next=3,(0,V.oe)(e);case 3:l(d.filter((function(n){return n.id!==s.id}))),alert("\uc0ad\uc81c\uc644\ub8cc!");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,dn.jsx)("div",{style:{height:"95%",overflow:"auto"},children:t?(0,dn.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"60px"},children:d.length>0?d.map((function(n){return e.uid===n.creatorId?(0,dn.jsxs)(xn,{children:[(0,dn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},onClick:function(){return u("wish-detail/".concat(n.id))},children:[(0,dn.jsx)("div",{children:n.products}),(0,dn.jsx)("div",{children:n.price}),(0,dn.jsx)("span",{children:n.createDate})]}),(0,dn.jsx)("div",{children:(0,dn.jsx)("button",{onClick:p,style:{marginLeft:"25px",marginRight:"10px"},children:"\uc0ad\uc81c"})})]},n.id):null})):null}):null})},jn=N.ZP.div(gn||(gn=(0,J.Z)(["\n  width: 90%;\n  height: 100px;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 10px 20px;\n  margin-bottom: 10px;\n"])));N.ZP.div(mn||(mn=(0,J.Z)(["\n\n"])));var vn=function(n){var e=n.userObj,t=(0,T.sJ)(q.PH),r=((0,T.FV)(q.eT),(0,S.useState)({})),i=(0,I.Z)(r,2),s=i[0],a=i[1],c=(0,T.FV)(q.TT),o=(0,I.Z)(c,2),d=o[0],l=o[1],u=(0,L.s0)();(0,S.useEffect)((function(){if(d.length>0){var n=d.find((function(n){return n.id}));n&&a(n)}}),[d]);var p=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(){var e;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,V.JU)(O.db,"items",s.id),n.next=3,(0,V.oe)(e);case 3:l(d.filter((function(n){return n.id!==s.id}))),alert("\uc0ad\uc81c\uc644\ub8cc!");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,dn.jsx)("div",{style:{height:"95%",overflow:"auto"},children:t?(0,dn.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",height:"300px"},children:d.length>0?d.map((function(n){return e.uid===n.creatorId?(0,dn.jsxs)(jn,{children:[(0,dn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,dn.jsx)("div",{onClick:function(){return u("item-detail/".concat(n.id))},children:n.products}),(0,dn.jsx)("span",{children:n.quantity}),(0,dn.jsx)("span",{children:n.createDate})]}),(0,dn.jsx)("div",{children:(0,dn.jsx)("button",{onClick:p,children:"\uc0ad\uc81c"})})]},n.id):null})):(0,dn.jsx)("p",{children:"\uc544\uc774\ud15c\uc744 \ub4f1\ub85d\ud574 \ubcf4\uc138\uc694!"})}):(0,dn.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:(0,dn.jsx)("h3",{children:"\ub85c\uadf8\uc778 \ub610\ub294 \ud68c\uc6d0\uac00\uc785 \ud574\uc8fc\uc138\uc694!"})})})};var bn=function(n){var e=n.userObj,t=(0,T.FV)(q.TT),r=(0,I.Z)(t,2),i=r[0],s=r[1],a=(0,T.FV)(q.fU),c=(0,I.Z)(a,2),o=c[0],d=c[1],l=(0,T.FV)(q.PH),u=(0,I.Z)(l,2),p=u[0],h=u[1],f=(0,T.FV)(q.eT),x=(0,I.Z)(f,2),g=x[0],m=x[1],Z=(0,T.FV)(q.cs),j=(0,I.Z)(Z,2),v=j[0],b=j[1],w=(0,L.s0)(),y="firebase:authUser:".concat(O.vo,":[DEFAULT]"),J=!!sessionStorage.getItem(y);(0,S.useEffect)((function(){var n=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(){var e;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.PL)((0,V.hJ)(O.db,"items"));case 2:e=n.sent,s(e.docs.map((function(n){return(0,P.Z)((0,P.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),b(!1)}),[v,i]),(0,S.useEffect)((function(){var n=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(){var e;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,V.PL)((0,V.hJ)(O.db,"wishItems"));case 2:e=n.sent,d(e.docs.map((function(n){return(0,P.Z)((0,P.Z)({},n.data()),{},{id:n.id})})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n(),b(!1)}),[v,o]),(0,S.useEffect)((function(){!0===J&&null!==e&&h(!0)}),[e,J,h]);var N=function(){m(!0)};return(0,dn.jsxs)(M,{children:[(0,dn.jsx)(U,{children:(0,dn.jsx)(H,{children:"Home Manager"})}),(0,dn.jsxs)(E,{children:[p?(0,dn.jsxs)(dn.Fragment,{children:[(0,dn.jsxs)("span",{children:[e.displayName,"\ub2d8, \uc548\ub155\ud558\uc138\uc694!"]}),(0,dn.jsx)(D,{onClick:function(){h(!1),O.ON.signOut(),alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!")},children:"\ub85c\uadf8\uc544\uc6c3"}),(0,dn.jsx)(F.rU,{to:"mypage",children:(0,dn.jsx)(D,{children:"\ub9c8\uc774\ud398\uc774\uc9c0"})})]}):(0,dn.jsx)(D,{onClick:N,children:"\ub85c\uadf8\uc778"}),(0,dn.jsx)(un,{onModal:g,closeModal:function(){m(!1)},setIsLogIn:h})]}),(0,dn.jsxs)(_,{children:[(0,dn.jsxs)(X,{children:[(0,dn.jsxs)("h3",{children:["\uc544\uc774\ud15c\ub9ac\uc2a4\ud2b8",(0,dn.jsx)("span",{children:(0,dn.jsx)($,{onClick:function(){p?w("/item-post"):N()},children:"\ub4f1\ub85d\ud558\uae30"})})]}),(0,dn.jsx)(A,{children:(0,dn.jsx)(vn,{userObj:e})})]}),(0,dn.jsxs)(G,{children:[(0,dn.jsx)("h3",{children:"\uc54c\ub9bc"}),(0,dn.jsx)(K,{children:(0,dn.jsx)(fn,{userObj:e})}),(0,dn.jsxs)("h3",{children:["\uc704\uc2dc\ub9ac\uc2a4\ud2b8",(0,dn.jsx)("span",{children:(0,dn.jsx)($,{onClick:function(){p?w("/wish-post"):N()},children:"\ub4f1\ub85d\ud558\uae30"})})]}),(0,dn.jsx)(R,{children:(0,dn.jsx)(Zn,{userObj:e})})]})]})]})}}}]);
//# sourceMappingURL=317.7a0c262a.chunk.js.map