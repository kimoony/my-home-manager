{"version":3,"file":"static/js/418.59f8f04e.chunk.js","mappings":"8XAOaA,IALaC,EAAAA,EAAAA,IAAK,CAC7BC,IAAK,aACLC,SAAS,KAGeF,EAAAA,EAAAA,IAAK,CAC7BC,IAAK,aACLC,SAAS,KAGEC,GAAYH,EAAAA,EAAAA,IAAK,CAC5BC,IAAK,YACLC,SAAS,IAGEE,GAAgBJ,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,CACPG,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,UAAW,MAIFC,GAAgBV,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,IAGES,GAAgBX,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,CACPG,SAAU,GACVO,MAAO,EACPJ,SAAU,MAIDK,GAAeb,EAAAA,EAAAA,IAAK,CAC/BC,IAAK,eACLC,SAAS,IAGEY,GAAgBd,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,KAGEa,GAAef,EAAAA,EAAAA,IAAK,CAC/BC,IAAK,eACLC,QAAS,KAGEc,GAAoBhB,EAAAA,EAAAA,IAAK,CACpCC,IAAK,oBACLC,QAAS,KAGEe,GAAsBjB,EAAAA,EAAAA,IAAK,CACtCC,IAAK,sBACLC,QAAS,CACP,CACED,IAAK,EACLiB,MAAO,sBAET,CACEjB,IAAK,EACLiB,MAAO,4BAET,CACEjB,IAAK,EACLiB,MAAO,oB,2ICAb,UAnEA,YAA2C,IAAzBC,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QACvBC,EAAOC,EAAAA,GAAAA,YACPC,GAAWC,EAAAA,EAAAA,MACjB,GAA4CC,EAAAA,EAAAA,UAASL,EAAQM,aAA7D,eAAOC,EAAP,KAAuBC,EAAvB,KACMC,GAAWC,EAAAA,EAAAA,IAAehB,EAAAA,IAC1BiB,GAAUD,EAAAA,EAAAA,IAAef,EAAAA,IAMzBiB,EAAY,yCAAG,WAAOC,GAAP,yEACnBA,EAAEC,iBACEd,EAAQM,cAAgBC,EAFT,iCAGXQ,EAAAA,EAAAA,IAAcd,EAAM,CACxBK,YAAaC,IAJE,OAMjBR,IACAiB,MAAM,8DACNb,EAAS,KARQ,2CAAH,sDAYlB,OACE,iCACE,4DACA,4BACE,qDACA,0BAAOH,EAAQiB,YAEjB,kBAAMC,SAAUN,EAAhB,WACE,qDACA,2BACE,kBACEO,KAAK,OACLC,YAAY,2DACZtB,MAAOS,EACPc,SA9BO,SAACR,GAChBL,EAAkBK,EAAES,OAAOxB,QA8BnByB,UAAU,SAGd,oEAEF,4BACE,0BAAKvB,EAAQM,YAAb,iCACA,iDAAUG,EAASe,OAAnB,aACA,2CAASb,EAAQa,OAAjB,aACA,4BACE,yCACCf,EAASgB,KAAI,SAACC,GAAD,OACZ1B,EAAQ2B,MAAQD,EAAGE,WACjB,yBACGF,EAAGG,UAAY,EAAf,UACMH,EAAGI,KADT,kBACkBJ,EAAGG,SADrB,2CAEG,IAHIH,EAAGK,IAKX,eAIV,SAAC,KAAD,CAAMC,GAAG,IAAT,UACE","sources":["atoms.js","routes/MyPage.js"],"sourcesContent":["import { atom } from \"recoil\";\n\nexport const modalState = atom({\n  key: \"modalState\",\n  default: false,\n});\n\nexport const loginState = atom({\n  key: \"loginState\",\n  default: false,\n});\n\nexport const userState = atom({\n  key: \"userState\",\n  default: false,\n});\n\nexport const itemPostState = atom({\n  key: \"itemPostState\",\n  default: {\n    products: \"\",\n    location: \"\",\n    purchase: \"\",\n    descript: \"\",\n    createdAt: \"\",\n  },\n});\n\nexport const quantityState = atom({\n  key: \"quantityState\",\n  default: 0,\n});\n\nexport const wishPostState = atom({\n  key: \"wishPostState\",\n  default: {\n    products: \"\",\n    price: 0,\n    descript: \"\",\n  },\n});\n\nexport const changedState = atom({\n  key: \"changedState\",\n  default: false,\n});\n\nexport const getItemsState = atom({\n  key: \"getItemsState\",\n  default: [],\n});\n\nexport const getWishState = atom({\n  key: \"getWishState\",\n  default: [],\n});\n\nexport const itemCategoryState = atom({\n  key: \"itemCategoryState\",\n  default: [],\n});\n\nexport const methodCategoryState = atom({\n  key: \"methodCategoryState\",\n  default: [\n    {\n      key: 0,\n      value: \"온라인\",\n    },\n    {\n      key: 1,\n      value: \"오프라인\",\n    },\n    {\n      key: 2,\n      value: \"기타\",\n    },\n  ],\n});\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { authService } from \"../firebase\";\nimport { updateProfile } from \"firebase/auth\";\nimport { getItemsState, getWishState } from \"atoms\";\nimport { useRecoilValue } from \"recoil\";\n\nfunction MyPage({ refreshUser, userObj }) {\n  const user = authService.currentUser;\n  const navigate = useNavigate();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n  const getItems = useRecoilValue(getItemsState);\n  const getWish = useRecoilValue(getWishState);\n\n  const onChange = (e) => {\n    setNewDisplayName(e.target.value);\n  };\n\n  const updateSubmit = async (e) => {\n    e.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await updateProfile(user, {\n        displayName: newDisplayName,\n      });\n      refreshUser();\n      alert(\"수정완료! 홈으로 이동~\");\n      navigate(\"/\");\n    }\n  };\n\n  return (\n    <>\n      <h1>마이페이지</h1>\n      <div>\n        <label>아이디: </label>\n        <span>{userObj.email}</span>\n      </div>\n      <form onSubmit={updateSubmit}>\n        <label>닉네임: </label>\n        <span>\n          <input\n            type=\"text\"\n            placeholder=\"닉네임을 입력하세요!\"\n            value={newDisplayName}\n            onChange={onChange}\n            maxLength=\"8\"\n          />\n        </span>\n        <button>닉네임 변경</button>\n      </form>\n      <div>\n        <h3>{userObj.displayName} 등록 현황</h3>\n        <h5>아이템: {getItems.length}개</h5>\n        <h5>위시: {getWish.length}개</h5>\n        <div>\n          <h5>알림</h5>\n          {getItems.map((it) =>\n            userObj.uid === it.creatorId ? (\n              <div key={it.id}>\n                {it.quantity <= 3\n                  ? `${it.name}가 ${it.quantity}개 남았습니다. `\n                  : \"\"}\n              </div>\n            ) : null\n          )}\n        </div>\n      </div>\n      <Link to=\"/\">\n        <button>뒤로가기</button>\n      </Link>\n    </>\n  );\n}\n\nexport default MyPage;\n"],"names":["loginState","atom","key","default","userState","itemPostState","products","location","purchase","descript","createdAt","quantityState","wishPostState","price","changedState","getItemsState","getWishState","itemCategoryState","methodCategoryState","value","refreshUser","userObj","user","authService","navigate","useNavigate","useState","displayName","newDisplayName","setNewDisplayName","getItems","useRecoilValue","getWish","updateSubmit","e","preventDefault","updateProfile","alert","email","onSubmit","type","placeholder","onChange","target","maxLength","length","map","it","uid","creatorId","quantity","name","id","to"],"sourceRoot":""}