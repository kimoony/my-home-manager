{"version":3,"file":"static/js/418.f30c9e0e.chunk.js","mappings":"sWAEaA,GAAaC,EAAAA,EAAAA,IAAK,CAC7BC,IAAK,aACLC,SAAS,IAGEC,GAAaH,EAAAA,EAAAA,IAAK,CAC7BC,IAAK,aACLC,SAAS,IAGEE,GAAYJ,EAAAA,EAAAA,IAAK,CAC5BC,IAAK,YACLC,SAAS,IAGEG,GAAgBL,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,CACPI,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,eAAgB,GAChBC,SAAU,GACVC,UAAW,MAIFC,GAAgBb,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,IAGEY,GAAgBd,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,CACPI,SAAU,GACVC,SAAU,GACVQ,MAAO,EACPJ,SAAU,MAIDK,GAAehB,EAAAA,EAAAA,IAAK,CAC/BC,IAAK,eACLC,SAAS,IAGEe,GAAgBjB,EAAAA,EAAAA,IAAK,CAChCC,IAAK,gBACLC,QAAS,KAGEgB,GAAelB,EAAAA,EAAAA,IAAK,CAC/BC,IAAK,eACLC,QAAS,M,2ICkBX,UAnEA,YAA2C,IAAzBiB,EAAwB,EAAxBA,YAAaC,EAAW,EAAXA,QACvBC,EAAOC,EAAAA,GAAAA,YACPC,GAAWC,EAAAA,EAAAA,MACjB,GAA4CC,EAAAA,EAAAA,UAASL,EAAQM,aAA7D,eAAOC,EAAP,KAAuBC,EAAvB,KACMC,GAAWC,EAAAA,EAAAA,IAAeb,EAAAA,IAC1Bc,GAAUD,EAAAA,EAAAA,IAAeZ,EAAAA,IAMzBc,EAAY,yCAAG,WAAOC,GAAP,yEACnBA,EAAEC,iBACEd,EAAQM,cAAgBC,EAFT,iCAGXQ,EAAAA,EAAAA,IAAcd,EAAM,CACxBK,YAAaC,IAJE,OAMjBR,IACAiB,MAAM,8DACNb,EAAS,KARQ,2CAAH,sDAYlB,OACE,iCACE,4DACA,4BACE,qDACA,0BAAOH,EAAQiB,YAEjB,kBAAMC,SAAUN,EAAhB,WACE,qDACA,2BACE,kBACEO,KAAK,OACLC,YAAY,2DACZC,MAAOd,EACPe,SA9BO,SAACT,GAChBL,EAAkBK,EAAEU,OAAOF,QA8BnBG,UAAU,SAGd,oEAEF,4BACE,0BAAKxB,EAAQM,YAAb,iCACA,iDAAUG,EAASgB,OAAnB,aACA,2CAASd,EAAQc,OAAjB,aACA,4BACE,yCACChB,EAASiB,KAAI,SAACC,GAAD,OACZ3B,EAAQ4B,MAAQD,EAAGE,WACjB,yBACGF,EAAGG,UAAY,EAAf,UACMH,EAAGI,KADT,kBACkBJ,EAAGG,SADrB,2CAEG,IAHIH,EAAGK,IAKX,eAIV,SAAC,KAAD,CAAMC,GAAG,IAAT,UACE","sources":["atoms.js","routes/MyPage.js"],"sourcesContent":["import { atom } from \"recoil\";\n\nexport const modalState = atom({\n  key: \"modalState\",\n  default: false,\n});\n\nexport const loginState = atom({\n  key: \"loginState\",\n  default: false,\n});\n\nexport const userState = atom({\n  key: \"userState\",\n  default: true,\n});\n\nexport const itemPostState = atom({\n  key: \"itemPostState\",\n  default: {\n    category: \"\",\n    products: \"\",\n    location: \"\",\n    purchase: \"\",\n    purchaseMethod: \"\",\n    descript: \"\",\n    createdAt: \"\",\n  },\n});\n\nexport const quantityState = atom({\n  key: \"quantityState\",\n  default: 0,\n});\n\nexport const wishPostState = atom({\n  key: \"wishPostState\",\n  default: {\n    category: \"\",\n    products: \"\",\n    price: 0,\n    descript: \"\",\n  },\n});\n\nexport const changedState = atom({\n  key: \"changedState\",\n  default: false,\n});\n\nexport const getItemsState = atom({\n  key: \"getItemsState\",\n  default: [],\n});\n\nexport const getWishState = atom({\n  key: \"getWishState\",\n  default: [],\n});\n","import React from \"react\";\nimport { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { authService } from \"../firebase\";\nimport { updateProfile } from \"firebase/auth\";\nimport { getItemsState, getWishState } from \"atoms\";\nimport { useRecoilValue } from \"recoil\";\n\nfunction MyPage({ refreshUser, userObj }) {\n  const user = authService.currentUser;\n  const navigate = useNavigate();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.displayName);\n  const getItems = useRecoilValue(getItemsState);\n  const getWish = useRecoilValue(getWishState);\n\n  const onChange = (e) => {\n    setNewDisplayName(e.target.value);\n  };\n\n  const updateSubmit = async (e) => {\n    e.preventDefault();\n    if (userObj.displayName !== newDisplayName) {\n      await updateProfile(user, {\n        displayName: newDisplayName,\n      });\n      refreshUser();\n      alert(\"수정완료! 홈으로 이동~\");\n      navigate(\"/\");\n    }\n  };\n\n  return (\n    <>\n      <h1>마이페이지</h1>\n      <div>\n        <label>아이디: </label>\n        <span>{userObj.email}</span>\n      </div>\n      <form onSubmit={updateSubmit}>\n        <label>닉네임: </label>\n        <span>\n          <input\n            type=\"text\"\n            placeholder=\"닉네임을 입력하세요!\"\n            value={newDisplayName}\n            onChange={onChange}\n            maxLength=\"8\"\n          />\n        </span>\n        <button>닉네임 변경</button>\n      </form>\n      <div>\n        <h3>{userObj.displayName} 등록 현황</h3>\n        <h5>아이템: {getItems.length}개</h5>\n        <h5>위시: {getWish.length}개</h5>\n        <div>\n          <h5>알림</h5>\n          {getItems.map((it) =>\n            userObj.uid === it.creatorId ? (\n              <div key={it.id}>\n                {it.quantity <= 3\n                  ? `${it.name}가 ${it.quantity}개 남았습니다. `\n                  : \"\"}\n              </div>\n            ) : null\n          )}\n        </div>\n      </div>\n      <Link to=\"/\">\n        <button>뒤로가기</button>\n      </Link>\n    </>\n  );\n}\n\nexport default MyPage;\n"],"names":["modalState","atom","key","default","loginState","userState","itemPostState","category","products","location","purchase","purchaseMethod","descript","createdAt","quantityState","wishPostState","price","changedState","getItemsState","getWishState","refreshUser","userObj","user","authService","navigate","useNavigate","useState","displayName","newDisplayName","setNewDisplayName","getItems","useRecoilValue","getWish","updateSubmit","e","preventDefault","updateProfile","alert","email","onSubmit","type","placeholder","value","onChange","target","maxLength","length","map","it","uid","creatorId","quantity","name","id","to"],"sourceRoot":""}